Test Python 3.11 on ubuntu-latest	Run tests with coverage	ï»¿2025-06-29T16:00:20.8233992Z ##[group]Run uv run pytest tests/ -v --cov=src/mass_find_replace --cov-report=xml --cov-report=term
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:20.8234641Z [36;1muv run pytest tests/ -v --cov=src/mass_find_replace --cov-report=xml --cov-report=term[0m
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:20.8290733Z shell: /usr/bin/bash -e {0}
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:20.8290962Z env:
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:20.8291128Z   UV_VERSION: 0.7.13
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:20.8291320Z   DEFAULT_PYTHON: 3.11
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:20.8291525Z   GIT_AUTHOR_NAME: Emasoft
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:20.8291793Z   GIT_AUTHOR_EMAIL: 713559+Emasoft@users.noreply.github.com
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:20.8292099Z   GIT_COMMITTER_NAME: Emasoft
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:20.8292379Z   GIT_COMMITTER_EMAIL: 713559+Emasoft@users.noreply.github.com
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:20.8292728Z   UV_CACHE_DIR: /home/runner/work/_temp/setup-uv-cache
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:20.8293003Z ##[endgroup]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:21.6418353Z ============================= test session starts ==============================
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:21.6419324Z platform linux -- Python 3.11.13, pytest-8.4.1, pluggy-1.6.0 -- /home/runner/work/MFR/MFR/.venv/bin/python
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:21.6420186Z cachedir: .pytest_cache
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:21.6420505Z rootdir: /home/runner/work/MFR/MFR
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:21.6420825Z configfile: pyproject.toml
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:21.6421099Z plugins: anyio-4.9.0, cov-6.2.1
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:25.4532708Z collecting ... collected 111 items
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:25.4533172Z 
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:25.4943456Z tests/test_additional_coverage.py::TestFileSystemOperations::test_scan_with_symlinks PASSED [  0%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:25.5302242Z tests/test_additional_coverage.py::TestFileSystemOperations::test_scan_with_gitignore PASSED [  1%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:25.5730416Z tests/test_additional_coverage.py::TestFileSystemOperations::test_process_large_file_with_encoding_error PASSED [  2%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:46.5825531Z tests/test_additional_coverage.py::TestFileSystemOperations::test_execute_transaction_os_errors PASSED [  3%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:46.8352408Z tests/test_additional_coverage.py::TestFileSystemOperations::test_file_locking_error PASSED [  4%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:46.9778922Z tests/test_additional_coverage.py::TestFileSystemOperations::test_rtf_file_processing PASSED [  5%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:47.1109481Z tests/test_additional_coverage.py::TestFileSystemOperations::test_binary_file_detection_edge_cases PASSED [  6%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:47.2524593Z tests/test_additional_coverage.py::TestFileSystemOperations::test_save_transactions_with_backup PASSED [  7%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:47.3871072Z tests/test_additional_coverage.py::TestFileSystemOperations::test_load_transactions_invalid_json PASSED [  8%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:47.5246970Z tests/test_additional_coverage.py::TestFileSystemOperations::test_folder_with_special_chars PASSED [  9%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:47.6749576Z tests/test_additional_coverage.py::TestReplaceLogicEdgeCases::test_replace_with_unicode PASSED [  9%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:47.8522594Z tests/test_additional_coverage.py::TestReplaceLogicEdgeCases::test_case_sensitive_replacements PASSED [ 10%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:48.0228095Z tests/test_additional_coverage.py::TestReplaceLogicEdgeCases::test_overlapping_replacements PASSED [ 11%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:48.5942993Z tests/test_additional_coverage.py::TestMainFlowEdgeCases::test_main_flow_with_modified_files_detection PASSED [ 12%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:48.5955917Z tests/test_additional_coverage.py::TestMainFlowEdgeCases::test_main_flow_keyboard_interrupt SKIPPED [ 13%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:48.8588863Z tests/test_additional_coverage.py::TestMainFlowEdgeCases::test_main_flow_with_all_skip_flags PASSED [ 14%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:49.0222433Z tests/test_additional_coverage.py::TestUtilityFunctions::test_get_exclude_patterns PASSED [ 15%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:49.1660351Z tests/test_additional_coverage.py::TestUtilityFunctions::test_update_transaction_status_edge_cases PASSED [ 16%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:49.3180903Z tests/test_additional_coverage.py::TestUtilityFunctions::test_open_file_with_encoding_edge_cases PASSED [ 17%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:49.4739495Z tests/test_additional_coverage.py::TestUtilityFunctions::test_group_and_process_file_transactions_edge_cases PASSED [ 18%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:49.6208115Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_help PASSED [ 18%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:49.7598463Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_self_test PASSED [ 19%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:49.9343891Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_self_test_failure PASSED [ 20%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:50.1111858Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_force_interactive_conflict PASSED [ 21%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:50.3000673Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_invalid_directory PASSED [ 22%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:50.4828133Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_not_directory PASSED [ 23%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:50.6711585Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_invalid_mapping_file PASSED [ 24%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:50.8454980Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_invalid_json PASSED [ 25%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:51.0198770Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_empty_mapping PASSED [ 26%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:51.1974981Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_invalid_ignore_file PASSED [ 27%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:51.3637002Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_timeout_validation PASSED [ 27%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:51.5327084Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_successful_run PASSED [ 28%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:51.6890878Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_with_failures PASSED [ 29%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:51.9767616Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_skip_scan_no_file PASSED [ 30%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:52.6865439Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_resume_no_file PASSED [ 31%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:52.9589780Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_empty_transaction_file PASSED [ 32%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:53.2512320Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_with_dry_run_reset PASSED [ 33%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:53.7034081Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_interactive_mode PASSED [ 34%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:54.1387827Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_quiet_mode PASSED [ 35%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:54.5430510Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_verbose_mode PASSED [ 36%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:54.8080392Z tests/test_coverage_improvements.py::TestExecuteTransactions::test_interactive_mode_skip PASSED [ 36%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:55.0741159Z tests/test_coverage_improvements.py::TestExecuteTransactions::test_interactive_mode_apply_all PASSED [ 37%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:55.3344496Z tests/test_coverage_improvements.py::TestExecuteTransactions::test_transaction_with_high_retry_count PASSED [ 38%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:55.4748413Z tests/test_coverage_improvements.py::TestHelperFunctions::test_get_logger_without_prefect PASSED [ 39%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:55.6271684Z tests/test_coverage_improvements.py::TestHelperFunctions::test_get_logger_with_context_error PASSED [ 40%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:55.7757709Z tests/test_coverage_improvements.py::TestHelperFunctions::test_print_mapping_table PASSED [ 41%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:55.9143586Z tests/test_coverage_improvements.py::TestHelperFunctions::test_get_operation_description PASSED [ 42%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:56.0593530Z tests/test_coverage_improvements.py::TestHelperFunctions::test_check_existing_transactions PASSED [ 43%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:56.2091198Z tests/test_coverage_improvements.py::TestHelperFunctions::test_run_subprocess_command PASSED [ 44%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:56.3505505Z tests/test_coverage_improvements.py::TestColorOutput::test_color_constants PASSED [ 45%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:56.5004060Z tests/test_coverage_improvements.py::TestReplaceLogic::test_validate_mapping_structure PASSED [ 45%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:56.6527778Z tests/test_coverage_improvements.py::TestFileOperations::test_get_file_encoding PASSED [ 46%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:56.7948353Z tests/test_coverage_improvements.py::TestFileOperations::test_is_binary_file PASSED [ 47%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:56.9377505Z tests/test_coverage_improvements.py::TestFileOperations::test_transaction_status_update PASSED [ 48%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:57.0827481Z tests/test_coverage_improvements.py::TestFileOperations::test_load_ignore_patterns PASSED [ 49%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:57.3577379Z tests/test_coverage_improvements.py::TestFileOperations::test_folder_rename_collision PASSED [ 50%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:57.7853045Z tests/test_final_coverage.py::TestPrefectIntegration::test_main_flow_with_prefect PASSED [ 51%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:57.9519721Z tests/test_final_coverage.py::TestPrefectIntegration::test_subprocess_flush_handlers PASSED [ 52%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:58.1115370Z tests/test_final_coverage.py::TestPrefectIntegration::test_subprocess_without_flush PASSED [ 53%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:58.2514305Z tests/test_final_coverage.py::TestMainCLIEdgeCases::test_main_cli_exception_handling PASSED [ 54%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:58.3911101Z tests/test_final_coverage.py::TestMainCLIEdgeCases::test_main_cli_json_key_error PASSED [ 54%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:58.5332916Z tests/test_final_coverage.py::TestMainCLIEdgeCases::test_main_cli_cyclic_mapping PASSED [ 55%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:58.6846084Z tests/test_final_coverage.py::TestMainCLIEdgeCases::test_main_cli_user_confirmation_no PASSED [ 56%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:58.8353282Z tests/test_final_coverage.py::TestMainCLIEdgeCases::test_main_cli_timeout_zero PASSED [ 57%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:58.9767578Z tests/test_final_coverage.py::TestCheckExistingTransactions::test_all_transactions_completed PASSED [ 58%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:59.1132630Z tests/test_final_coverage.py::TestCheckExistingTransactions::test_no_transactions PASSED [ 59%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:59.3722811Z tests/test_final_coverage.py::TestTransactionProcessing::test_symlink_rename_dry_run PASSED [ 60%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:00.6435774Z tests/test_final_coverage.py::TestTransactionProcessing::test_file_rename_permission_error PASSED [ 61%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:00.9098055Z tests/test_final_coverage.py::TestTransactionProcessing::test_content_change_with_no_changes PASSED [ 62%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:01.0678434Z tests/test_final_coverage.py::TestLoggerFunctions::test_log_message_functions PASSED [ 63%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:01.2302637Z tests/test_final_coverage.py::TestLoggerFunctions::test_replace_logic_functions PASSED [ 63%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:01.3773955Z tests/test_final_coverage.py::TestStringProcessing::test_canonicalize_edge_cases PASSED [ 64%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:01.5209715Z tests/test_final_coverage.py::TestStringProcessing::test_strip_functions PASSED [ 65%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:01.6689636Z tests/test_final_coverage.py::TestEncodingDetection::test_encoding_detection_edge_cases PASSED [ 66%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:01.8129653Z tests/test_final_coverage.py::TestRTFProcessing::test_rtf_to_text_edge_cases PASSED [ 67%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:01.9563859Z tests/test_final_coverage.py::TestFileOperationHelpers::test_transaction_type_enum PASSED [ 68%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:02.1024956Z tests/test_final_coverage.py::TestFileOperationHelpers::test_transaction_status_enum PASSED [ 69%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:02.2508166Z tests/test_final_coverage.py::TestScanEdgeCases::test_scan_with_permission_error PASSED [ 70%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:02.9727058Z tests/test_github_integration.py::TestGitHubIntegration::test_clone_and_setup_public_repo PASSED [ 71%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:04.1222276Z tests/test_github_integration.py::TestGitHubIntegration::test_build_mfr_in_container PASSED [ 72%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:04.4416209Z tests/test_github_integration.py::TestGitHubIntegration::test_mfr_on_cloned_repo SKIPPED [ 72%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:04.4427364Z tests/test_github_integration.py::TestGitHubIntegration::test_github_cli_operations SKIPPED [ 73%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:04.8457040Z tests/test_mass_find_replace.py::test_dry_run_behavior PASSED            [ 74%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:05.2728842Z tests/test_mass_find_replace.py::test_dry_run_virtual_paths PASSED       [ 75%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:05.6723346Z tests/test_mass_find_replace.py::test_path_resolution_after_rename PASSED [ 76%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:06.0694114Z tests/test_mass_find_replace.py::test_folder_nesting PASSED              [ 77%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:06.4867483Z tests/test_mass_find_replace.py::test_unicode_combining_chars PASSED     [ 78%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:07.8860199Z tests/test_mass_find_replace.py::test_permission_error_handling PASSED   [ 79%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:08.0279156Z tests/test_mass_find_replace.py::test_self_test_option PASSED            [ 80%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:08.4307835Z tests/test_mass_find_replace.py::test_symlink_name_processing PASSED     [ 81%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:08.8509493Z tests/test_mass_find_replace.py::test_extension_filtering PASSED         [ 81%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:09.2825189Z tests/test_mass_find_replace.py::test_rtf_processing PASSED              [ 82%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:09.6841420Z tests/test_mass_find_replace.py::test_binary_files_logging PASSED        [ 83%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:10.0860846Z tests/test_mass_find_replace.py::test_recursive_path_resolution PASSED   [ 84%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:14.2910579Z tests/test_mass_find_replace.py::test_gb18030_encoding PASSED            [ 85%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:15.0281052Z tests/test_mass_find_replace.py::test_collision_error_logging FAILED     [ 86%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:15.4310324Z tests/test_mass_find_replace.py::test_interactive_mode_collision_skip PASSED [ 87%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:15.6862578Z tests/test_mass_find_replace.py::test_malformed_json_handling PASSED     [ 88%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:16.0807169Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_trailing_spaces PASSED [ 89%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:16.4785221Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_line_endings PASSED [ 90%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:16.9037947Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_encoding_errors PASSED [ 90%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:17.2988190Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_different_encodings PASSED [ 91%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:17.6931869Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_null_bytes PASSED [ 92%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:18.1206088Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_corrupt_test_files PASSED [ 93%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:18.5448839Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_very_long_lines PASSED [ 94%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:18.9426194Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_unicode_edge_cases PASSED [ 95%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:19.3607917Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_empty_files_and_edge_cases PASSED [ 96%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:19.7552791Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_concurrent_patterns PASSED [ 97%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.1501655Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_file_permissions_preserved PASSED [ 98%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.5504171Z tests/test_surgical_replacements.py::TestErrorHandling::test_handles_read_only_files PASSED [ 99%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2000833Z tests/test_surgical_replacements.py::TestErrorHandling::test_handles_files_with_no_newline_at_end PASSED [100%]
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2001568Z 
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2001798Z =================================== FAILURES ===================================
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2002541Z _________________________ test_collision_error_logging _________________________
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2003041Z 
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2004298Z temp_test_dir = {'config': PosixPath('/tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/config'), 'runtime': PosixPath('/tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime')}
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2006285Z default_map_file = PosixPath('/tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/config/replacement_mapping.json')
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2007172Z 
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2007735Z     def test_collision_error_logging(temp_test_dir: dict[str, Path], default_map_file: Path) -> None:
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2008707Z         """Test that collision errors are properly logged"""
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2009537Z         # Use a fresh directory to avoid conflicts with fixture files
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2010208Z         test_dir = temp_test_dir["runtime"] / "collision_test"
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2010599Z         test_dir.mkdir()
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2010832Z     
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2011107Z         # Test 1: File that will rename to collide with existing file
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2011591Z         # This file will be renamed from oldname_config.py to newname_config.py
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2012000Z         source_file = test_dir / "oldname_config.py"
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2012287Z         source_file.write_text("# Config file")
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2012519Z     
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2012696Z         # Existing file that will cause collision
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2013161Z         exact_collision = test_dir / "newname_config.py"
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2013497Z         exact_collision.write_text("# Existing config")
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2013745Z     
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2013980Z         # Test 2: File with different case that will collide after rename
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2014332Z         # OldnameTheme.ts will be renamed to NewnameTheme.ts
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2014641Z         case_test_file = test_dir / "OldnameTheme.ts"
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2014956Z         case_test_file.write_text("export const theme = 'test';")
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2015225Z     
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2015479Z         # Existing file with different case that will cause collision
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2015803Z         case_collision = test_dir / "NEWNAMETHEME.ts"
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2016127Z         case_collision.write_text("export const theme = 'existing';")
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2016411Z     
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2016576Z         # Debug: List all files before running
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2017346Z         print("\n=== Files before running ===")
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2017799Z         for f in test_dir.iterdir():
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2018189Z             print(f"  {f.name}")
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2018542Z         print("=== End files list ===")
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2018775Z     
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2018963Z         # Run the replacement on the test subdirectory
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2019368Z         run_main_flow_for_test(test_dir, default_map_file, dry_run=False, extensions=[".ts", ".py"])
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2019737Z     
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2019912Z         # Check that collision log was created
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2020570Z         collision_log = test_dir / COLLISIONS_ERRORS_LOG_FILE
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2020952Z         assert collision_log.exists(), "Collision error log file was not created"
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2021271Z     
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2021427Z         # Read and verify log content
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2021711Z         log_content = collision_log.read_text(encoding="utf-8")
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2021991Z     
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2022148Z         # Print log for debugging
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2022465Z         print(f"\n=== Collision Log Content ===\n{log_content}\n=== End Log ===\n")
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2022781Z     
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2022954Z         # Verify exact match collision is logged
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2023323Z         assert "OldnameTheme.ts" in log_content, "OldnameTheme.ts collision not logged"
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2023787Z         assert "OldnameTheme.ts" in log_content, "Target collision file not mentioned"
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2024239Z         assert "exact match" in log_content, "Exact match collision type not specified"
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2024567Z     
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2024824Z         # Verify collision is logged (on case-insensitive filesystems like macOS,
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2025267Z         # OLDNAME_CONFIG.py and oldname_config.py are the same, so it's an exact match)
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2025721Z         assert "oldname_config.py" in log_content, "Case-insensitive source not logged"
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2026148Z         # The collision should be logged with the attempted target name
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2026661Z         assert "oldname_config.py" in log_content, "Collision target not mentioned"
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2027412Z     
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2027594Z         # Verify transaction details are included
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2027872Z         assert "Transaction ID:" in log_content
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2028142Z >       assert "Original Name:" in log_content
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2029715Z E       AssertionError: assert 'Original Name:' in '2025-06-29 16:01:14 - COLLISION (case-insensitive match):\n  Source: OldnameTheme.ts\n  Target: N/A\n  Collision with: NEWNAMETHEME.ts\n  Transaction ID: f2913a86-6463-4360-bc86-c9d3d33991d7\n--------------------------------------------------------------------------------\n2025-06-29 16:01:14 - COLLISION (exact match):\n  Source: oldname_config.py\n  Target: N/A\n  Collision with: newname_config.py\n  Transaction ID: 0617dc90-fdab-443e-97e5-37214f6acf73\n--------------------------------------------------------------------------------\n'
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2031394Z 
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2031522Z tests/test_mass_find_replace.py:577: AssertionError
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2031875Z ----------------------------- Captured stdout call -----------------------------
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2032128Z 
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2032212Z === Files before running ===
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2032452Z   NEWNAMETHEME.ts
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2032624Z   OldnameTheme.ts
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2032797Z   newname_config.py
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2032970Z   oldname_config.py
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2033140Z === End files list ===
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2033255Z 
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2033331Z === Collision Log Content ===
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2033596Z 2025-06-29 16:01:14 - COLLISION (case-insensitive match):
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2033883Z   Source: OldnameTheme.ts
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2034071Z   Target: N/A
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2034253Z   Collision with: NEWNAMETHEME.ts
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2034650Z   Transaction ID: f2913a86-6463-4360-bc86-c9d3d33991d7
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2034974Z --------------------------------------------------------------------------------
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2035292Z 2025-06-29 16:01:14 - COLLISION (exact match):
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2035555Z   Source: oldname_config.py
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2035754Z   Target: N/A
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2035929Z   Collision with: newname_config.py
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2036200Z   Transaction ID: 0617dc90-fdab-443e-97e5-37214f6acf73
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2036527Z --------------------------------------------------------------------------------
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2036741Z 
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2036805Z === End Log ===
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2036912Z 
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2037055Z ----------------------------- Captured stderr call -----------------------------
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2037523Z 16:01:14.379 | INFO    | Flow run 'pink-quoll' - Beginning flow run 'pink-quoll' for flow 'Mass Find Replace'
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2038205Z 16:01:14.380 | INFO    | Flow run 'pink-quoll' - Scanning '/tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test'...
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2039166Z 16:01:14.383 | INFO    | Flow run 'pink-quoll' - Scan complete. 2 transactions planned in '/tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/planned_transactions.json'
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2039918Z 16:01:14.383 | INFO    | Flow run 'pink-quoll' - Starting execution phase...
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2040601Z 16:01:14.502 | INFO    | Flow run 'keen-snake' - Beginning subflow run 'keen-snake' for flow 'execute-all-transactions'
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2041541Z 16:01:14.504 | WARNING | Flow run 'pink-quoll' - Collision logged to collisions_errors.log: case-insensitive match for /tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/OldnameTheme.ts
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2042744Z 16:01:14.505 | WARNING | Flow run 'pink-quoll' - Collision logged to collisions_errors.log: exact match for /tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/oldname_config.py
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2043717Z 16:01:14.506 | INFO    | Flow run 'pink-quoll' - Execution phase complete. Stats: {'total': 2, 'completed': 0, 'failed': 2, 'skipped': 0, 'retry_later': 0}
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2044427Z 16:01:14.529 | INFO    | Flow run 'keen-snake' - Finished in state Completed()
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2045005Z 16:01:14.530 | INFO    | Flow run 'pink-quoll' - Execution phase complete. Stats: {'total': 2, 'completed': 0, 'failed': 2, 'skipped': 0, 'retry_later': 0}
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2046023Z 16:01:14.530 | INFO    | Flow run 'pink-quoll' - Review '/tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/planned_transactions.json' for a detailed log of changes and their statuses.
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2047730Z 16:01:14.531 | INFO    | Flow run 'pink-quoll' - [91mWarning: File/folder rename collisions were detected. See '/tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/collisions_errors.log' for details. These renames were skipped.[0m
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2048933Z 16:01:14.546 | INFO    | Flow run 'pink-quoll' - Finished in state Completed()
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2049442Z ------------------------------ Captured log call -------------------------------
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2059840Z INFO     prefect.flow_runs:flow_engine.py:651 Beginning flow run 'pink-quoll' for flow 'Mass Find Replace'
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2060965Z INFO     prefect.flow_runs:mass_find_replace.py:390 Scanning '/tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test'...
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2062029Z INFO     prefect.flow_runs:mass_find_replace.py:451 Scan complete. 2 transactions planned in '/tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/planned_transactions.json'
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2062861Z INFO     prefect.flow_runs:mass_find_replace.py:481 Starting execution phase...
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2063436Z INFO     prefect.flow_runs:flow_engine.py:651 Beginning subflow run 'keen-snake' for flow 'execute-all-transactions'
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2064606Z WARNING  prefect.flow_runs:logging_utils.py:38 Collision logged to collisions_errors.log: case-insensitive match for /tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/OldnameTheme.ts
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2065875Z WARNING  prefect.flow_runs:logging_utils.py:38 Collision logged to collisions_errors.log: exact match for /tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/oldname_config.py
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2066948Z INFO     prefect.flow_runs:file_system_operations.py:1671 Execution phase complete. Stats: {'total': 2, 'completed': 0, 'failed': 2, 'skipped': 0, 'retry_later': 0}
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2067611Z INFO     prefect.flow_runs:flow_engine.py:724 Finished in state Completed()
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2068240Z INFO     prefect.flow_runs:mass_find_replace.py:494 Execution phase complete. Stats: {'total': 2, 'completed': 0, 'failed': 2, 'skipped': 0, 'retry_later': 0}
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2069342Z INFO     prefect.flow_runs:mass_find_replace.py:495 Review '/tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/planned_transactions.json' for a detailed log of changes and their statuses.
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2071257Z INFO     prefect.flow_runs:mass_find_replace.py:503 [91mWarning: File/folder rename collisions were detected. See '/tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/collisions_errors.log' for details. These renames were skipped.[0m
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9191759Z INFO     prefect.flow_runs:flow_engine.py:724 Finished in state Completed()
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9192581Z ================================ tests coverage ================================
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9193282Z _______________ coverage: platform linux, python 3.11.13-final-0 _______________
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9193739Z 
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9193934Z Name                                              Stmts   Miss  Cover
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9194514Z ---------------------------------------------------------------------
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9195131Z src/mass_find_replace/__init__.py                     6      0   100%
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9195880Z src/mass_find_replace/cli/__init__.py                 0      0   100%
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9197018Z src/mass_find_replace/core/__init__.py                4      0   100%
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9197777Z src/mass_find_replace/core/constants.py              27      0   100%
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9198512Z src/mass_find_replace/core/exceptions.py              4      0   100%
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9199269Z src/mass_find_replace/core/types.py                  16      0   100%
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9199923Z src/mass_find_replace/file_system_operations.py     755    229    70%
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9201146Z src/mass_find_replace/mass_find_replace.py          425    157    63%
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9201868Z src/mass_find_replace/replace_logic.py              191     61    68%
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9202564Z src/mass_find_replace/scanning/__init__.py            0      0   100%
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9203249Z src/mass_find_replace/test_config.py                 40     40     0%
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9203931Z src/mass_find_replace/transactions/__init__.py        0      0   100%
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9204619Z src/mass_find_replace/utils/__init__.py               5      0   100%
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9205295Z src/mass_find_replace/utils/file_encoding.py         93     23    75%
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9206002Z src/mass_find_replace/utils/file_locking.py          41     14    66%
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9206657Z src/mass_find_replace/utils/json_handlers.py         38      5    87%
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9207385Z src/mass_find_replace/utils/logging_utils.py         36      6    83%
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9208119Z ---------------------------------------------------------------------
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9208666Z TOTAL                                              1681    535    68%
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9209177Z Coverage XML written to file coverage.xml
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9210170Z =========================== short test summary info ============================
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9213408Z FAILED tests/test_mass_find_replace.py::test_collision_error_logging - AssertionError: assert 'Original Name:' in '2025-06-29 16:01:14 - COLLISION (case-insensitive match):\n  Source: OldnameTheme.ts\n  Target: N/A\n  Collision with: NEWNAMETHEME.ts\n  Transaction ID: f2913a86-6463-4360-bc86-c9d3d33991d7\n--------------------------------------------------------------------------------\n2025-06-29 16:01:14 - COLLISION (exact match):\n  Source: oldname_config.py\n  Target: N/A\n  Collision with: newname_config.py\n  Transaction ID: 0617dc90-fdab-443e-97e5-37214f6acf73\n--------------------------------------------------------------------------------\n'
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9216114Z ================== 1 failed, 107 passed, 3 skipped in 59.57s ===================
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9216498Z --- Logging error ---
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9216725Z Traceback (most recent call last):
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9223439Z   File "/home/runner/work/MFR/MFR/.venv/lib/python3.11/site-packages/prefect/logging/handlers.py", line 337, in emit
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9224033Z     self.console.print(message, soft_wrap=True)
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9224582Z   File "/home/runner/work/MFR/MFR/.venv/lib/python3.11/site-packages/rich/console.py", line 1692, in print
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9225037Z     with self:
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9225456Z   File "/home/runner/work/MFR/MFR/.venv/lib/python3.11/site-packages/rich/console.py", line 866, in __exit__
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9226156Z     self._exit_buffer()
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9226614Z   File "/home/runner/work/MFR/MFR/.venv/lib/python3.11/site-packages/rich/console.py", line 824, in _exit_buffer
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9227083Z     self._check_buffer()
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9227552Z   File "/home/runner/work/MFR/MFR/.venv/lib/python3.11/site-packages/rich/console.py", line 2033, in _check_buffer
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9228026Z     self._write_buffer()
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9228456Z   File "/home/runner/work/MFR/MFR/.venv/lib/python3.11/site-packages/rich/console.py", line 2102, in _write_buffer
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9228923Z     self.file.write(text)
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9229146Z ValueError: I/O operation on closed file.
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9229380Z Call stack:
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9230223Z   File "/home/runner/work/MFR/MFR/.venv/lib/python3.11/site-packages/prefect/server/api/server.py", line 917, in stop
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9230719Z     subprocess_server_logger.info(
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9231257Z   File "/home/runner/.local/share/uv/python/cpython-3.11.13-linux-x86_64-gnu/lib/python3.11/logging/__init__.py", line 1489, in info
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9231802Z     self._log(INFO, msg, args, **kwargs)
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9232351Z   File "/home/runner/.local/share/uv/python/cpython-3.11.13-linux-x86_64-gnu/lib/python3.11/logging/__init__.py", line 1634, in _log
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9232856Z     self.handle(record)
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9233350Z   File "/home/runner/.local/share/uv/python/cpython-3.11.13-linux-x86_64-gnu/lib/python3.11/logging/__init__.py", line 1644, in handle
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9233891Z     self.callHandlers(record)
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9234420Z   File "/home/runner/.local/share/uv/python/cpython-3.11.13-linux-x86_64-gnu/lib/python3.11/logging/__init__.py", line 1706, in callHandlers
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9234960Z     hdlr.handle(record)
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9235445Z   File "/home/runner/.local/share/uv/python/cpython-3.11.13-linux-x86_64-gnu/lib/python3.11/logging/__init__.py", line 978, in handle
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9235951Z     self.emit(record)
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9236400Z   File "/home/runner/work/MFR/MFR/.venv/lib/python3.11/site-packages/prefect/logging/handlers.py", line 343, in emit
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9236883Z     self.handleError(record)
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9237219Z Message: 'Stopping temporary server on http://127.0.0.1:8950'
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.9237516Z Arguments: ()
Test Python 3.11 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:23.8195991Z ##[error]Process completed with exit code 1.
Test Python 3.10 on ubuntu-latest	Run tests with coverage	ï»¿2025-06-29T16:00:18.1992254Z ##[group]Run uv run pytest tests/ -v --cov=src/mass_find_replace --cov-report=xml --cov-report=term
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:18.1993356Z [36;1muv run pytest tests/ -v --cov=src/mass_find_replace --cov-report=xml --cov-report=term[0m
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:18.2067063Z shell: /usr/bin/bash -e {0}
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:18.2067420Z env:
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:18.2067675Z   UV_VERSION: 0.7.13
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:18.2068005Z   DEFAULT_PYTHON: 3.11
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:18.2068324Z   GIT_AUTHOR_NAME: Emasoft
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:18.2068752Z   GIT_AUTHOR_EMAIL: 713559+Emasoft@users.noreply.github.com
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:18.2069256Z   GIT_COMMITTER_NAME: Emasoft
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:18.2069740Z   GIT_COMMITTER_EMAIL: 713559+Emasoft@users.noreply.github.com
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:18.2070316Z   UV_CACHE_DIR: /home/runner/work/_temp/setup-uv-cache
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:18.2070756Z ##[endgroup]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:19.0974896Z ============================= test session starts ==============================
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:19.0975623Z platform linux -- Python 3.10.18, pytest-8.4.1, pluggy-1.6.0 -- /home/runner/work/MFR/MFR/.venv/bin/python
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:19.0976245Z cachedir: .pytest_cache
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:19.0976523Z rootdir: /home/runner/work/MFR/MFR
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:19.0976840Z configfile: pyproject.toml
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:19.0977134Z plugins: anyio-4.9.0, cov-6.2.1
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:22.7481804Z collecting ... collected 111 items
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:22.7482270Z 
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:22.8037642Z tests/test_additional_coverage.py::TestFileSystemOperations::test_scan_with_symlinks PASSED [  0%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:22.8515187Z tests/test_additional_coverage.py::TestFileSystemOperations::test_scan_with_gitignore PASSED [  1%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:22.9004735Z tests/test_additional_coverage.py::TestFileSystemOperations::test_process_large_file_with_encoding_error PASSED [  2%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:43.8530297Z tests/test_additional_coverage.py::TestFileSystemOperations::test_execute_transaction_os_errors PASSED [  3%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:44.1158305Z tests/test_additional_coverage.py::TestFileSystemOperations::test_file_locking_error PASSED [  4%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:44.2560105Z tests/test_additional_coverage.py::TestFileSystemOperations::test_rtf_file_processing PASSED [  5%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:44.3965219Z tests/test_additional_coverage.py::TestFileSystemOperations::test_binary_file_detection_edge_cases PASSED [  6%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:44.5374552Z tests/test_additional_coverage.py::TestFileSystemOperations::test_save_transactions_with_backup PASSED [  7%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:44.6806567Z tests/test_additional_coverage.py::TestFileSystemOperations::test_load_transactions_invalid_json PASSED [  8%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:44.8307399Z tests/test_additional_coverage.py::TestFileSystemOperations::test_folder_with_special_chars PASSED [  9%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:44.9799651Z tests/test_additional_coverage.py::TestReplaceLogicEdgeCases::test_replace_with_unicode PASSED [  9%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:45.1414244Z tests/test_additional_coverage.py::TestReplaceLogicEdgeCases::test_case_sensitive_replacements PASSED [ 10%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:45.3088835Z tests/test_additional_coverage.py::TestReplaceLogicEdgeCases::test_overlapping_replacements PASSED [ 11%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:45.8693270Z tests/test_additional_coverage.py::TestMainFlowEdgeCases::test_main_flow_with_modified_files_detection PASSED [ 12%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:45.8706754Z tests/test_additional_coverage.py::TestMainFlowEdgeCases::test_main_flow_keyboard_interrupt SKIPPED [ 13%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:46.1292806Z tests/test_additional_coverage.py::TestMainFlowEdgeCases::test_main_flow_with_all_skip_flags PASSED [ 14%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:46.2701844Z tests/test_additional_coverage.py::TestUtilityFunctions::test_get_exclude_patterns PASSED [ 15%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:46.4162998Z tests/test_additional_coverage.py::TestUtilityFunctions::test_update_transaction_status_edge_cases PASSED [ 16%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:46.5668610Z tests/test_additional_coverage.py::TestUtilityFunctions::test_open_file_with_encoding_edge_cases PASSED [ 17%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:46.7146459Z tests/test_additional_coverage.py::TestUtilityFunctions::test_group_and_process_file_transactions_edge_cases PASSED [ 18%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:46.8655265Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_help PASSED [ 18%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:47.0176366Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_self_test PASSED [ 19%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:47.1612443Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_self_test_failure PASSED [ 20%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:47.3020967Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_force_interactive_conflict PASSED [ 21%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:47.4532039Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_invalid_directory PASSED [ 22%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:47.5989051Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_not_directory PASSED [ 23%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:47.7410770Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_invalid_mapping_file PASSED [ 24%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:47.8869140Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_invalid_json PASSED [ 25%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:48.0296184Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_empty_mapping PASSED [ 26%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:48.1703384Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_invalid_ignore_file PASSED [ 27%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:48.3109837Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_timeout_validation PASSED [ 27%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:48.4533741Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_successful_run PASSED [ 28%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:48.5953341Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_with_failures PASSED [ 29%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:48.8670063Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_skip_scan_no_file PASSED [ 30%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:49.3020368Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_resume_no_file PASSED [ 31%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:49.5865358Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_empty_transaction_file PASSED [ 32%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:49.8667136Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_with_dry_run_reset PASSED [ 33%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:50.3181790Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_interactive_mode PASSED [ 34%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:50.7564980Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_quiet_mode PASSED [ 35%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:51.1946507Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_verbose_mode PASSED [ 36%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:51.4677888Z tests/test_coverage_improvements.py::TestExecuteTransactions::test_interactive_mode_skip PASSED [ 36%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:51.7488923Z tests/test_coverage_improvements.py::TestExecuteTransactions::test_interactive_mode_apply_all PASSED [ 37%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:52.0516453Z tests/test_coverage_improvements.py::TestExecuteTransactions::test_transaction_with_high_retry_count PASSED [ 38%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:52.2190021Z tests/test_coverage_improvements.py::TestHelperFunctions::test_get_logger_without_prefect PASSED [ 39%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:52.3855125Z tests/test_coverage_improvements.py::TestHelperFunctions::test_get_logger_with_context_error PASSED [ 40%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:52.5394498Z tests/test_coverage_improvements.py::TestHelperFunctions::test_print_mapping_table PASSED [ 41%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:52.6845683Z tests/test_coverage_improvements.py::TestHelperFunctions::test_get_operation_description PASSED [ 42%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:52.8480275Z tests/test_coverage_improvements.py::TestHelperFunctions::test_check_existing_transactions PASSED [ 43%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:53.0228641Z tests/test_coverage_improvements.py::TestHelperFunctions::test_run_subprocess_command PASSED [ 44%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:53.1938808Z tests/test_coverage_improvements.py::TestColorOutput::test_color_constants PASSED [ 45%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:53.3710294Z tests/test_coverage_improvements.py::TestReplaceLogic::test_validate_mapping_structure PASSED [ 45%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:53.5496884Z tests/test_coverage_improvements.py::TestFileOperations::test_get_file_encoding PASSED [ 46%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:53.7327747Z tests/test_coverage_improvements.py::TestFileOperations::test_is_binary_file PASSED [ 47%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:53.9195921Z tests/test_coverage_improvements.py::TestFileOperations::test_transaction_status_update PASSED [ 48%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:54.1015672Z tests/test_coverage_improvements.py::TestFileOperations::test_load_ignore_patterns PASSED [ 49%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:54.4104219Z tests/test_coverage_improvements.py::TestFileOperations::test_folder_rename_collision PASSED [ 50%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:54.8855230Z tests/test_final_coverage.py::TestPrefectIntegration::test_main_flow_with_prefect PASSED [ 51%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:55.0702211Z tests/test_final_coverage.py::TestPrefectIntegration::test_subprocess_flush_handlers PASSED [ 52%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:55.2549919Z tests/test_final_coverage.py::TestPrefectIntegration::test_subprocess_without_flush PASSED [ 53%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:55.4266633Z tests/test_final_coverage.py::TestMainCLIEdgeCases::test_main_cli_exception_handling PASSED [ 54%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:55.5784236Z tests/test_final_coverage.py::TestMainCLIEdgeCases::test_main_cli_json_key_error PASSED [ 54%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:55.7549320Z tests/test_final_coverage.py::TestMainCLIEdgeCases::test_main_cli_cyclic_mapping PASSED [ 55%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:55.9341973Z tests/test_final_coverage.py::TestMainCLIEdgeCases::test_main_cli_user_confirmation_no PASSED [ 56%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:56.1127381Z tests/test_final_coverage.py::TestMainCLIEdgeCases::test_main_cli_timeout_zero PASSED [ 57%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:56.2959150Z tests/test_final_coverage.py::TestCheckExistingTransactions::test_all_transactions_completed PASSED [ 58%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:56.4796483Z tests/test_final_coverage.py::TestCheckExistingTransactions::test_no_transactions PASSED [ 59%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:56.7814490Z tests/test_final_coverage.py::TestTransactionProcessing::test_symlink_rename_dry_run PASSED [ 60%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:58.0754685Z tests/test_final_coverage.py::TestTransactionProcessing::test_file_rename_permission_error PASSED [ 61%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:58.3592658Z tests/test_final_coverage.py::TestTransactionProcessing::test_content_change_with_no_changes PASSED [ 62%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:58.5256125Z tests/test_final_coverage.py::TestLoggerFunctions::test_log_message_functions PASSED [ 63%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:58.7059551Z tests/test_final_coverage.py::TestLoggerFunctions::test_replace_logic_functions PASSED [ 63%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:58.8848977Z tests/test_final_coverage.py::TestStringProcessing::test_canonicalize_edge_cases PASSED [ 64%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:59.0660496Z tests/test_final_coverage.py::TestStringProcessing::test_strip_functions PASSED [ 65%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:59.2536085Z tests/test_final_coverage.py::TestEncodingDetection::test_encoding_detection_edge_cases PASSED [ 66%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:59.4350477Z tests/test_final_coverage.py::TestRTFProcessing::test_rtf_to_text_edge_cases PASSED [ 67%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:59.6144708Z tests/test_final_coverage.py::TestFileOperationHelpers::test_transaction_type_enum PASSED [ 68%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:59.7979137Z tests/test_final_coverage.py::TestFileOperationHelpers::test_transaction_status_enum PASSED [ 69%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:00:59.9791317Z tests/test_final_coverage.py::TestScanEdgeCases::test_scan_with_permission_error PASSED [ 70%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:00.3868989Z tests/test_github_integration.py::TestGitHubIntegration::test_clone_and_setup_public_repo PASSED [ 71%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:01.6357996Z tests/test_github_integration.py::TestGitHubIntegration::test_build_mfr_in_container PASSED [ 72%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:01.8850996Z tests/test_github_integration.py::TestGitHubIntegration::test_mfr_on_cloned_repo SKIPPED [ 72%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:01.8863488Z tests/test_github_integration.py::TestGitHubIntegration::test_github_cli_operations SKIPPED [ 73%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:02.3484513Z tests/test_mass_find_replace.py::test_dry_run_behavior PASSED            [ 74%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:02.7883355Z tests/test_mass_find_replace.py::test_dry_run_virtual_paths PASSED       [ 75%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:03.2337146Z tests/test_mass_find_replace.py::test_path_resolution_after_rename PASSED [ 76%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:03.7040698Z tests/test_mass_find_replace.py::test_folder_nesting PASSED              [ 77%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:04.1347790Z tests/test_mass_find_replace.py::test_unicode_combining_chars PASSED     [ 78%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:05.5741633Z tests/test_mass_find_replace.py::test_permission_error_handling PASSED   [ 79%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:05.7387427Z tests/test_mass_find_replace.py::test_self_test_option PASSED            [ 80%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:06.1740852Z tests/test_mass_find_replace.py::test_symlink_name_processing PASSED     [ 81%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:06.6144980Z tests/test_mass_find_replace.py::test_extension_filtering PASSED         [ 81%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:07.0442718Z tests/test_mass_find_replace.py::test_rtf_processing PASSED              [ 82%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:07.5045217Z tests/test_mass_find_replace.py::test_binary_files_logging PASSED        [ 83%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:07.9384839Z tests/test_mass_find_replace.py::test_recursive_path_resolution PASSED   [ 84%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:12.9293791Z tests/test_mass_find_replace.py::test_gb18030_encoding PASSED            [ 85%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:13.7104703Z tests/test_mass_find_replace.py::test_collision_error_logging FAILED     [ 86%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:14.1368758Z tests/test_mass_find_replace.py::test_interactive_mode_collision_skip PASSED [ 87%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:14.4176234Z tests/test_mass_find_replace.py::test_malformed_json_handling PASSED     [ 88%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:14.8699894Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_trailing_spaces PASSED [ 89%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:15.3062555Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_line_endings PASSED [ 90%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:15.7601171Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_encoding_errors PASSED [ 90%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:16.2378833Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_different_encodings PASSED [ 91%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:16.6821069Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_null_bytes PASSED [ 92%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:17.1056039Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_corrupt_test_files PASSED [ 93%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:17.5511406Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_very_long_lines PASSED [ 94%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:17.9807437Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_unicode_edge_cases PASSED [ 95%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:18.4048772Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_empty_files_and_edge_cases PASSED [ 96%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:18.8304773Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_concurrent_patterns PASSED [ 97%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:19.2334878Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_file_permissions_preserved PASSED [ 98%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:19.6596656Z tests/test_surgical_replacements.py::TestErrorHandling::test_handles_read_only_files PASSED [ 99%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4146472Z tests/test_surgical_replacements.py::TestErrorHandling::test_handles_files_with_no_newline_at_end PASSED [100%]
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4147286Z 
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4147469Z =================================== FAILURES ===================================
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4148084Z _________________________ test_collision_error_logging _________________________
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4148539Z 
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4149631Z temp_test_dir = {'config': PosixPath('/tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/config'), 'runtime': PosixPath('/tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime')}
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4151592Z default_map_file = PosixPath('/tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/config/replacement_mapping.json')
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4152264Z 
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4152592Z     def test_collision_error_logging(temp_test_dir: dict[str, Path], default_map_file: Path) -> None:
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4153154Z         """Test that collision errors are properly logged"""
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4153821Z         # Use a fresh directory to avoid conflicts with fixture files
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4154792Z         test_dir = temp_test_dir["runtime"] / "collision_test"
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4155146Z         test_dir.mkdir()
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4155372Z     
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4155636Z         # Test 1: File that will rename to collide with existing file
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4156093Z         # This file will be renamed from oldname_config.py to newname_config.py
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4156526Z         source_file = test_dir / "oldname_config.py"
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4156875Z         source_file.write_text("# Config file")
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4157158Z     
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4157365Z         # Existing file that will cause collision
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4157711Z         exact_collision = test_dir / "newname_config.py"
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4158078Z         exact_collision.write_text("# Existing config")
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4158376Z     
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4158656Z         # Test 2: File with different case that will collide after rename
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4159084Z         # OldnameTheme.ts will be renamed to NewnameTheme.ts
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4159452Z         case_test_file = test_dir / "OldnameTheme.ts"
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4159834Z         case_test_file.write_text("export const theme = 'test';")
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4160165Z     
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4160462Z         # Existing file with different case that will cause collision
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4160856Z         case_collision = test_dir / "NEWNAMETHEME.ts"
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4161447Z         case_collision.write_text("export const theme = 'existing';")
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4161808Z     
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4162014Z         # Debug: List all files before running
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4162331Z         print("\n=== Files before running ===")
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4162640Z         for f in test_dir.iterdir():
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4162913Z             print(f"  {f.name}")
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4163176Z         print("=== End files list ===")
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4163447Z     
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4163669Z         # Run the replacement on the test subdirectory
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4164391Z         run_main_flow_for_test(test_dir, default_map_file, dry_run=False, extensions=[".ts", ".py"])
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4164843Z     
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4165049Z         # Check that collision log was created
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4165346Z         collision_log = test_dir / COLLISIONS_ERRORS_LOG_FILE
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4165739Z         assert collision_log.exists(), "Collision error log file was not created"
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4166075Z     
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4166245Z         # Read and verify log content
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4166538Z         log_content = collision_log.read_text(encoding="utf-8")
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4166815Z     
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4166980Z         # Print log for debugging
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4167308Z         print(f"\n=== Collision Log Content ===\n{log_content}\n=== End Log ===\n")
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4167631Z     
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4167819Z         # Verify exact match collision is logged
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4168198Z         assert "OldnameTheme.ts" in log_content, "OldnameTheme.ts collision not logged"
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4168661Z         assert "OldnameTheme.ts" in log_content, "Target collision file not mentioned"
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4169119Z         assert "exact match" in log_content, "Exact match collision type not specified"
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4169455Z     
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4169707Z         # Verify collision is logged (on case-insensitive filesystems like macOS,
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4170158Z         # OLDNAME_CONFIG.py and oldname_config.py are the same, so it's an exact match)
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4170614Z         assert "oldname_config.py" in log_content, "Case-insensitive source not logged"
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4171033Z         # The collision should be logged with the attempted target name
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4171447Z         assert "oldname_config.py" in log_content, "Collision target not mentioned"
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4171926Z     
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4172113Z         # Verify transaction details are included
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4172387Z         assert "Transaction ID:" in log_content
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4172657Z >       assert "Original Name:" in log_content
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4174385Z E       AssertionError: assert 'Original Name:' in '2025-06-29 16:01:13 - COLLISION (case-insensitive match):\n  Source: OldnameTheme.ts\n  Target: N/A\n  Collision with: NEWNAMETHEME.ts\n  Transaction ID: 69d40323-3865-4b64-b89f-0160594a4f32\n--------------------------------------------------------------------------------\n2025-06-29 16:01:13 - COLLISION (exact match):\n  Source: oldname_config.py\n  Target: N/A\n  Collision with: newname_config.py\n  Transaction ID: 198c5b39-08c9-4ea7-a1bf-aee2d420c9cb\n--------------------------------------------------------------------------------\n'
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4175895Z 
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4176018Z tests/test_mass_find_replace.py:577: AssertionError
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4176373Z ----------------------------- Captured stdout call -----------------------------
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4176615Z 
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4176704Z === Files before running ===
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4176910Z   NEWNAMETHEME.ts
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4177089Z   OldnameTheme.ts
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4177269Z   newname_config.py
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4177446Z   oldname_config.py
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4177625Z === End files list ===
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4177746Z 
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4177825Z === Collision Log Content ===
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4178091Z 2025-06-29 16:01:13 - COLLISION (case-insensitive match):
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4180218Z   Source: OldnameTheme.ts
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4180537Z   Target: N/A
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4180824Z   Collision with: NEWNAMETHEME.ts
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4181236Z   Transaction ID: 69d40323-3865-4b64-b89f-0160594a4f32
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4181766Z --------------------------------------------------------------------------------
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4182281Z 2025-06-29 16:01:13 - COLLISION (exact match):
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4182690Z   Source: oldname_config.py
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4183014Z   Target: N/A
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4183259Z   Collision with: newname_config.py
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4183549Z   Transaction ID: 198c5b39-08c9-4ea7-a1bf-aee2d420c9cb
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4184083Z --------------------------------------------------------------------------------
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4184343Z 
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4184412Z === End Log ===
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4184517Z 
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4184672Z ----------------------------- Captured stderr call -----------------------------
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4185212Z 16:01:13.022 | INFO    | Flow run 'voracious-malamute' - Beginning flow run 'voracious-malamute' for flow 'Mass Find Replace'
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4185982Z 16:01:13.024 | INFO    | Flow run 'voracious-malamute' - Scanning '/tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test'...
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4187015Z 16:01:13.027 | INFO    | Flow run 'voracious-malamute' - Scan complete. 2 transactions planned in '/tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/planned_transactions.json'
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4187865Z 16:01:13.027 | INFO    | Flow run 'voracious-malamute' - Starting execution phase...
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4188419Z 16:01:13.153 | INFO    | Flow run 'nifty-dragon' - Beginning subflow run 'nifty-dragon' for flow 'execute-all-transactions'
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4189415Z 16:01:13.155 | WARNING | Flow run 'voracious-malamute' - Collision logged to collisions_errors.log: case-insensitive match for /tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/OldnameTheme.ts
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4190726Z 16:01:13.155 | WARNING | Flow run 'voracious-malamute' - Collision logged to collisions_errors.log: exact match for /tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/oldname_config.py
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4191792Z 16:01:13.156 | INFO    | Flow run 'voracious-malamute' - Execution phase complete. Stats: {'total': 2, 'completed': 0, 'failed': 2, 'skipped': 0, 'retry_later': 0}
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4202634Z 16:01:13.183 | INFO    | Flow run 'nifty-dragon' - Finished in state Completed()
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4203287Z 16:01:13.184 | INFO    | Flow run 'voracious-malamute' - Execution phase complete. Stats: {'total': 2, 'completed': 0, 'failed': 2, 'skipped': 0, 'retry_later': 0}
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4204587Z 16:01:13.184 | INFO    | Flow run 'voracious-malamute' - Review '/tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/planned_transactions.json' for a detailed log of changes and their statuses.
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4206420Z 16:01:13.185 | INFO    | Flow run 'voracious-malamute' - [91mWarning: File/folder rename collisions were detected. See '/tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/collisions_errors.log' for details. These renames were skipped.[0m
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4207431Z 16:01:13.203 | INFO    | Flow run 'voracious-malamute' - Finished in state Completed()
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:20.4207853Z ------------------------------ Captured log call -------------------------------
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2143222Z INFO     prefect.flow_runs:flow_engine.py:651 Beginning flow run 'voracious-malamute' for flow 'Mass Find Replace'
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2145097Z INFO     prefect.flow_runs:mass_find_replace.py:390 Scanning '/tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test'...
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2147150Z INFO     prefect.flow_runs:mass_find_replace.py:451 Scan complete. 2 transactions planned in '/tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/planned_transactions.json'
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2149164Z INFO     prefect.flow_runs:mass_find_replace.py:481 Starting execution phase...
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2150156Z INFO     prefect.flow_runs:flow_engine.py:651 Beginning subflow run 'nifty-dragon' for flow 'execute-all-transactions'
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2151966Z WARNING  prefect.flow_runs:logging_utils.py:38 Collision logged to collisions_errors.log: case-insensitive match for /tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/OldnameTheme.ts
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2154422Z WARNING  prefect.flow_runs:logging_utils.py:38 Collision logged to collisions_errors.log: exact match for /tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/oldname_config.py
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2156408Z INFO     prefect.flow_runs:file_system_operations.py:1671 Execution phase complete. Stats: {'total': 2, 'completed': 0, 'failed': 2, 'skipped': 0, 'retry_later': 0}
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2157685Z INFO     prefect.flow_runs:flow_engine.py:724 Finished in state Completed()
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2158876Z INFO     prefect.flow_runs:mass_find_replace.py:494 Execution phase complete. Stats: {'total': 2, 'completed': 0, 'failed': 2, 'skipped': 0, 'retry_later': 0}
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2160897Z INFO     prefect.flow_runs:mass_find_replace.py:495 Review '/tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/planned_transactions.json' for a detailed log of changes and their statuses.
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2163826Z INFO     prefect.flow_runs:mass_find_replace.py:503 [91mWarning: File/folder rename collisions were detected. See '/tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/collisions_errors.log' for details. These renames were skipped.[0m
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2165225Z INFO     prefect.flow_runs:flow_engine.py:724 Finished in state Completed()
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2165614Z ================================ tests coverage ================================
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2166000Z _______________ coverage: platform linux, python 3.10.18-final-0 _______________
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2166261Z 
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2166379Z Name                                              Stmts   Miss  Cover
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2166698Z ---------------------------------------------------------------------
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2167054Z src/mass_find_replace/__init__.py                     6      0   100%
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2167657Z src/mass_find_replace/cli/__init__.py                 0      0   100%
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2168041Z src/mass_find_replace/core/__init__.py                4      0   100%
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2168426Z src/mass_find_replace/core/constants.py              27      0   100%
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2168807Z src/mass_find_replace/core/exceptions.py              4      0   100%
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2169186Z src/mass_find_replace/core/types.py                  16      0   100%
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2169570Z src/mass_find_replace/file_system_operations.py     755    229    70%
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2169962Z src/mass_find_replace/mass_find_replace.py          425    157    63%
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2170353Z src/mass_find_replace/replace_logic.py              191     61    68%
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2170750Z src/mass_find_replace/scanning/__init__.py            0      0   100%
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2171135Z src/mass_find_replace/test_config.py                 40     40     0%
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2171518Z src/mass_find_replace/transactions/__init__.py        0      0   100%
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2171921Z src/mass_find_replace/utils/__init__.py               5      0   100%
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2172309Z src/mass_find_replace/utils/file_encoding.py         93     23    75%
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2172698Z src/mass_find_replace/utils/file_locking.py          41     14    66%
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2173080Z src/mass_find_replace/utils/json_handlers.py         38      5    87%
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2173464Z src/mass_find_replace/utils/logging_utils.py         36      6    83%
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2174344Z ---------------------------------------------------------------------
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2174645Z TOTAL                                              1681    535    68%
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2174928Z Coverage XML written to file coverage.xml
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2175228Z =========================== short test summary info ============================
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2177085Z FAILED tests/test_mass_find_replace.py::test_collision_error_logging - AssertionError: assert 'Original Name:' in '2025-06-29 16:01:13 - COLLISION (case-insensitive match):\n  Source: OldnameTheme.ts\n  Target: N/A\n  Collision with: NEWNAMETHEME.ts\n  Transaction ID: 69d40323-3865-4b64-b89f-0160594a4f32\n--------------------------------------------------------------------------------\n2025-06-29 16:01:13 - COLLISION (exact match):\n  Source: oldname_config.py\n  Target: N/A\n  Collision with: newname_config.py\n  Transaction ID: 198c5b39-08c9-4ea7-a1bf-aee2d420c9cb\n--------------------------------------------------------------------------------\n'
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2178919Z ============= 1 failed, 107 passed, 3 skipped in 61.32s (0:01:01) ==============
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2179291Z --- Logging error ---
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2179512Z Traceback (most recent call last):
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2186919Z   File "/home/runner/work/MFR/MFR/.venv/lib/python3.10/site-packages/prefect/logging/handlers.py", line 337, in emit
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2187557Z     self.console.print(message, soft_wrap=True)
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2188116Z   File "/home/runner/work/MFR/MFR/.venv/lib/python3.10/site-packages/rich/console.py", line 1692, in print
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2188561Z     with self:
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2189006Z   File "/home/runner/work/MFR/MFR/.venv/lib/python3.10/site-packages/rich/console.py", line 866, in __exit__
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2189465Z     self._exit_buffer()
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2189941Z   File "/home/runner/work/MFR/MFR/.venv/lib/python3.10/site-packages/rich/console.py", line 824, in _exit_buffer
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2190413Z     self._check_buffer()
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2190872Z   File "/home/runner/work/MFR/MFR/.venv/lib/python3.10/site-packages/rich/console.py", line 2033, in _check_buffer
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2191336Z     self._write_buffer()
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2191782Z   File "/home/runner/work/MFR/MFR/.venv/lib/python3.10/site-packages/rich/console.py", line 2102, in _write_buffer
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2192254Z     self.file.write(text)
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2192672Z ValueError: I/O operation on closed file.
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2192921Z Call stack:
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2193361Z   File "/home/runner/work/MFR/MFR/.venv/lib/python3.10/site-packages/prefect/server/api/server.py", line 917, in stop
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2194077Z     subprocess_server_logger.info(
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2194716Z   File "/home/runner/.local/share/uv/python/cpython-3.10.18-linux-x86_64-gnu/lib/python3.10/logging/__init__.py", line 1477, in info
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2195473Z     self._log(INFO, msg, args, **kwargs)
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2196028Z   File "/home/runner/.local/share/uv/python/cpython-3.10.18-linux-x86_64-gnu/lib/python3.10/logging/__init__.py", line 1624, in _log
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2196552Z     self.handle(record)
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2197048Z   File "/home/runner/.local/share/uv/python/cpython-3.10.18-linux-x86_64-gnu/lib/python3.10/logging/__init__.py", line 1634, in handle
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2197580Z     self.callHandlers(record)
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2198130Z   File "/home/runner/.local/share/uv/python/cpython-3.10.18-linux-x86_64-gnu/lib/python3.10/logging/__init__.py", line 1696, in callHandlers
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2198668Z     hdlr.handle(record)
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2199181Z   File "/home/runner/.local/share/uv/python/cpython-3.10.18-linux-x86_64-gnu/lib/python3.10/logging/__init__.py", line 968, in handle
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2199696Z     self.emit(record)
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2200175Z   File "/home/runner/work/MFR/MFR/.venv/lib/python3.10/site-packages/prefect/logging/handlers.py", line 343, in emit
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2200677Z     self.handleError(record)
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2201158Z Message: 'Stopping temporary server on http://127.0.0.1:8961'
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:21.2201456Z Arguments: ()
Test Python 3.10 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:22.7583598Z ##[error]Process completed with exit code 1.
Test Python 3.12 on ubuntu-latest	Run tests with coverage	ï»¿2025-06-29T16:01:07.2771219Z ##[group]Run uv run pytest tests/ -v --cov=src/mass_find_replace --cov-report=xml --cov-report=term
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:07.2772446Z [36;1muv run pytest tests/ -v --cov=src/mass_find_replace --cov-report=xml --cov-report=term[0m
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:07.2846589Z shell: /usr/bin/bash -e {0}
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:07.2846939Z env:
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:07.2847202Z   UV_VERSION: 0.7.13
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:07.2847514Z   DEFAULT_PYTHON: 3.11
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:07.2847838Z   GIT_AUTHOR_NAME: Emasoft
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:07.2848270Z   GIT_AUTHOR_EMAIL: 713559+Emasoft@users.noreply.github.com
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:07.2848768Z   GIT_COMMITTER_NAME: Emasoft
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:07.2849232Z   GIT_COMMITTER_EMAIL: 713559+Emasoft@users.noreply.github.com
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:07.2849808Z   UV_CACHE_DIR: /home/runner/work/_temp/setup-uv-cache
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:07.2850259Z ##[endgroup]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:08.1966373Z ============================= test session starts ==============================
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:08.1967358Z platform linux -- Python 3.12.11, pytest-8.4.1, pluggy-1.6.0 -- /home/runner/work/MFR/MFR/.venv/bin/python
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:08.1968207Z cachedir: .pytest_cache
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:08.1968589Z rootdir: /home/runner/work/MFR/MFR
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:08.1968984Z configfile: pyproject.toml
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:08.1969355Z plugins: anyio-4.9.0, cov-6.2.1
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:15.9066698Z collecting ... collected 111 items
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:15.9067097Z 
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:15.9554603Z tests/test_additional_coverage.py::TestFileSystemOperations::test_scan_with_symlinks PASSED [  0%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:15.9950028Z tests/test_additional_coverage.py::TestFileSystemOperations::test_scan_with_gitignore PASSED [  1%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:16.0282825Z tests/test_additional_coverage.py::TestFileSystemOperations::test_process_large_file_with_encoding_error PASSED [  2%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:38.5737368Z tests/test_additional_coverage.py::TestFileSystemOperations::test_execute_transaction_os_errors PASSED [  3%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:38.8154980Z tests/test_additional_coverage.py::TestFileSystemOperations::test_file_locking_error PASSED [  4%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:38.9545745Z tests/test_additional_coverage.py::TestFileSystemOperations::test_rtf_file_processing PASSED [  5%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:39.0910773Z tests/test_additional_coverage.py::TestFileSystemOperations::test_binary_file_detection_edge_cases PASSED [  6%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:39.2288749Z tests/test_additional_coverage.py::TestFileSystemOperations::test_save_transactions_with_backup PASSED [  7%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:39.3644116Z tests/test_additional_coverage.py::TestFileSystemOperations::test_load_transactions_invalid_json PASSED [  8%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:39.5000139Z tests/test_additional_coverage.py::TestFileSystemOperations::test_folder_with_special_chars PASSED [  9%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:39.6328189Z tests/test_additional_coverage.py::TestReplaceLogicEdgeCases::test_replace_with_unicode PASSED [  9%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:39.7675266Z tests/test_additional_coverage.py::TestReplaceLogicEdgeCases::test_case_sensitive_replacements PASSED [ 10%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:39.8995050Z tests/test_additional_coverage.py::TestReplaceLogicEdgeCases::test_overlapping_replacements PASSED [ 11%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:40.6439920Z tests/test_additional_coverage.py::TestMainFlowEdgeCases::test_main_flow_with_modified_files_detection PASSED [ 12%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:40.6451839Z tests/test_additional_coverage.py::TestMainFlowEdgeCases::test_main_flow_keyboard_interrupt SKIPPED [ 13%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:40.8859641Z tests/test_additional_coverage.py::TestMainFlowEdgeCases::test_main_flow_with_all_skip_flags PASSED [ 14%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:41.0206283Z tests/test_additional_coverage.py::TestUtilityFunctions::test_get_exclude_patterns PASSED [ 15%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:41.1587134Z tests/test_additional_coverage.py::TestUtilityFunctions::test_update_transaction_status_edge_cases PASSED [ 16%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:41.3208018Z tests/test_additional_coverage.py::TestUtilityFunctions::test_open_file_with_encoding_edge_cases PASSED [ 17%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:41.4764239Z tests/test_additional_coverage.py::TestUtilityFunctions::test_group_and_process_file_transactions_edge_cases PASSED [ 18%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:41.6182175Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_help PASSED [ 18%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:41.7529626Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_self_test PASSED [ 19%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:41.8933318Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_self_test_failure PASSED [ 20%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:42.0290646Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_force_interactive_conflict PASSED [ 21%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:42.1640292Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_invalid_directory PASSED [ 22%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:42.3049088Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_not_directory PASSED [ 23%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:42.4397700Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_invalid_mapping_file PASSED [ 24%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:42.5743649Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_invalid_json PASSED [ 25%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:42.7125994Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_empty_mapping PASSED [ 26%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:42.8486278Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_invalid_ignore_file PASSED [ 27%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:42.9839512Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_timeout_validation PASSED [ 27%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:43.1153621Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_successful_run PASSED [ 28%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:43.2495838Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_with_failures PASSED [ 29%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:43.5006025Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_skip_scan_no_file PASSED [ 30%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:43.8754853Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_resume_no_file PASSED [ 31%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:44.1171882Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_empty_transaction_file PASSED [ 32%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:44.3656568Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_with_dry_run_reset PASSED [ 33%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:44.7597653Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_interactive_mode PASSED [ 34%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:45.1348820Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_quiet_mode PASSED [ 35%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:45.5125128Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_verbose_mode PASSED [ 36%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:45.7547483Z tests/test_coverage_improvements.py::TestExecuteTransactions::test_interactive_mode_skip PASSED [ 36%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:45.9995193Z tests/test_coverage_improvements.py::TestExecuteTransactions::test_interactive_mode_apply_all PASSED [ 37%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:46.2637396Z tests/test_coverage_improvements.py::TestExecuteTransactions::test_transaction_with_high_retry_count PASSED [ 38%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:46.4088599Z tests/test_coverage_improvements.py::TestHelperFunctions::test_get_logger_without_prefect PASSED [ 39%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:46.5445896Z tests/test_coverage_improvements.py::TestHelperFunctions::test_get_logger_with_context_error PASSED [ 40%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:46.6780740Z tests/test_coverage_improvements.py::TestHelperFunctions::test_print_mapping_table PASSED [ 41%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:46.8310134Z tests/test_coverage_improvements.py::TestHelperFunctions::test_get_operation_description PASSED [ 42%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:46.9762897Z tests/test_coverage_improvements.py::TestHelperFunctions::test_check_existing_transactions PASSED [ 43%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:47.1162996Z tests/test_coverage_improvements.py::TestHelperFunctions::test_run_subprocess_command PASSED [ 44%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:47.2534497Z tests/test_coverage_improvements.py::TestColorOutput::test_color_constants PASSED [ 45%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:47.3922362Z tests/test_coverage_improvements.py::TestReplaceLogic::test_validate_mapping_structure PASSED [ 45%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:47.5268673Z tests/test_coverage_improvements.py::TestFileOperations::test_get_file_encoding PASSED [ 46%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:47.6613206Z tests/test_coverage_improvements.py::TestFileOperations::test_is_binary_file PASSED [ 47%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:47.7997838Z tests/test_coverage_improvements.py::TestFileOperations::test_transaction_status_update PASSED [ 48%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:47.9347786Z tests/test_coverage_improvements.py::TestFileOperations::test_load_ignore_patterns PASSED [ 49%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:48.1758036Z tests/test_coverage_improvements.py::TestFileOperations::test_folder_rename_collision PASSED [ 50%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:48.5564447Z tests/test_final_coverage.py::TestPrefectIntegration::test_main_flow_with_prefect PASSED [ 51%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:48.6950762Z tests/test_final_coverage.py::TestPrefectIntegration::test_subprocess_flush_handlers PASSED [ 52%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:48.8326799Z tests/test_final_coverage.py::TestPrefectIntegration::test_subprocess_without_flush PASSED [ 53%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:48.9686952Z tests/test_final_coverage.py::TestMainCLIEdgeCases::test_main_cli_exception_handling PASSED [ 54%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:49.1064534Z tests/test_final_coverage.py::TestMainCLIEdgeCases::test_main_cli_json_key_error PASSED [ 54%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:49.2416636Z tests/test_final_coverage.py::TestMainCLIEdgeCases::test_main_cli_cyclic_mapping PASSED [ 55%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:49.3974721Z tests/test_final_coverage.py::TestMainCLIEdgeCases::test_main_cli_user_confirmation_no PASSED [ 56%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:49.5391241Z tests/test_final_coverage.py::TestMainCLIEdgeCases::test_main_cli_timeout_zero PASSED [ 57%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:49.6741819Z tests/test_final_coverage.py::TestCheckExistingTransactions::test_all_transactions_completed PASSED [ 58%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:49.8203578Z tests/test_final_coverage.py::TestCheckExistingTransactions::test_no_transactions PASSED [ 59%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:50.0617088Z tests/test_final_coverage.py::TestTransactionProcessing::test_symlink_rename_dry_run PASSED [ 60%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:51.3073920Z tests/test_final_coverage.py::TestTransactionProcessing::test_file_rename_permission_error PASSED [ 61%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:51.5466203Z tests/test_final_coverage.py::TestTransactionProcessing::test_content_change_with_no_changes PASSED [ 62%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:51.6861271Z tests/test_final_coverage.py::TestLoggerFunctions::test_log_message_functions PASSED [ 63%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:51.8364455Z tests/test_final_coverage.py::TestLoggerFunctions::test_replace_logic_functions PASSED [ 63%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:51.9802447Z tests/test_final_coverage.py::TestStringProcessing::test_canonicalize_edge_cases PASSED [ 64%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:52.1154103Z tests/test_final_coverage.py::TestStringProcessing::test_strip_functions PASSED [ 65%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:52.2660939Z tests/test_final_coverage.py::TestEncodingDetection::test_encoding_detection_edge_cases PASSED [ 66%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:52.4033963Z tests/test_final_coverage.py::TestRTFProcessing::test_rtf_to_text_edge_cases PASSED [ 67%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:52.5367647Z tests/test_final_coverage.py::TestFileOperationHelpers::test_transaction_type_enum PASSED [ 68%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:52.6733049Z tests/test_final_coverage.py::TestFileOperationHelpers::test_transaction_status_enum PASSED [ 69%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:52.8113059Z tests/test_final_coverage.py::TestScanEdgeCases::test_scan_with_permission_error PASSED [ 70%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:53.2037070Z tests/test_github_integration.py::TestGitHubIntegration::test_clone_and_setup_public_repo PASSED [ 71%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:54.3379494Z tests/test_github_integration.py::TestGitHubIntegration::test_build_mfr_in_container PASSED [ 72%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:54.5557855Z tests/test_github_integration.py::TestGitHubIntegration::test_mfr_on_cloned_repo SKIPPED [ 72%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:54.5568554Z tests/test_github_integration.py::TestGitHubIntegration::test_github_cli_operations SKIPPED [ 73%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:54.9469716Z tests/test_mass_find_replace.py::test_dry_run_behavior PASSED            [ 74%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:55.3399864Z tests/test_mass_find_replace.py::test_dry_run_virtual_paths PASSED       [ 75%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:55.7392853Z tests/test_mass_find_replace.py::test_path_resolution_after_rename PASSED [ 76%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:56.1498523Z tests/test_mass_find_replace.py::test_folder_nesting PASSED              [ 77%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:56.5345177Z tests/test_mass_find_replace.py::test_unicode_combining_chars PASSED     [ 78%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:57.9280492Z tests/test_mass_find_replace.py::test_permission_error_handling PASSED   [ 79%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:58.0664254Z tests/test_mass_find_replace.py::test_self_test_option PASSED            [ 80%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:58.4588961Z tests/test_mass_find_replace.py::test_symlink_name_processing PASSED     [ 81%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:58.8582892Z tests/test_mass_find_replace.py::test_extension_filtering PASSED         [ 81%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:59.2610261Z tests/test_mass_find_replace.py::test_rtf_processing PASSED              [ 82%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:01:59.6451547Z tests/test_mass_find_replace.py::test_binary_files_logging PASSED        [ 83%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:00.0473500Z tests/test_mass_find_replace.py::test_recursive_path_resolution PASSED   [ 84%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:04.7161024Z tests/test_mass_find_replace.py::test_gb18030_encoding PASSED            [ 85%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:05.4532781Z tests/test_mass_find_replace.py::test_collision_error_logging FAILED     [ 86%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:05.8379211Z tests/test_mass_find_replace.py::test_interactive_mode_collision_skip PASSED [ 87%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:06.0821299Z tests/test_mass_find_replace.py::test_malformed_json_handling PASSED     [ 88%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:06.4809854Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_trailing_spaces PASSED [ 89%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:06.8645847Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_line_endings PASSED [ 90%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:07.2615424Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_encoding_errors PASSED [ 90%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:07.6747010Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_different_encodings PASSED [ 91%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:08.0556783Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_null_bytes PASSED [ 92%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:08.4373955Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_corrupt_test_files PASSED [ 93%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:08.8570131Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_very_long_lines PASSED [ 94%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:09.2464354Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_unicode_edge_cases PASSED [ 95%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:09.6242520Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_empty_files_and_edge_cases PASSED [ 96%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:10.0374722Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_concurrent_patterns PASSED [ 97%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:10.4190842Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_file_permissions_preserved PASSED [ 98%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:10.8016028Z tests/test_surgical_replacements.py::TestErrorHandling::test_handles_read_only_files PASSED [ 99%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4618807Z tests/test_surgical_replacements.py::TestErrorHandling::test_handles_files_with_no_newline_at_end PASSED [100%]
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4619620Z 
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4619808Z =================================== FAILURES ===================================
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4620423Z _________________________ test_collision_error_logging _________________________
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4620860Z 
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4621879Z temp_test_dir = {'config': PosixPath('/tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/config'), 'runtime': PosixPath('/tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime')}
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4623931Z default_map_file = PosixPath('/tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/config/replacement_mapping.json')
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4624717Z 
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4625161Z     def test_collision_error_logging(temp_test_dir: dict[str, Path], default_map_file: Path) -> None:
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4625895Z         """Test that collision errors are properly logged"""
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4626740Z         # Use a fresh directory to avoid conflicts with fixture files
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4627267Z         test_dir = temp_test_dir["runtime"] / "collision_test"
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4627686Z         test_dir.mkdir()
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4627968Z     
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4628310Z         # Test 1: File that will rename to collide with existing file
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4628909Z         # This file will be renamed from oldname_config.py to newname_config.py
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4629450Z         source_file = test_dir / "oldname_config.py"
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4629876Z         source_file.write_text("# Config file")
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4630220Z     
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4630485Z         # Existing file that will cause collision
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4630974Z         exact_collision = test_dir / "newname_config.py"
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4631434Z         exact_collision.write_text("# Existing config")
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4631818Z     
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4632354Z         # Test 2: File with different case that will collide after rename
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4632907Z         # OldnameTheme.ts will be renamed to NewnameTheme.ts
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4633367Z         case_test_file = test_dir / "OldnameTheme.ts"
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4633841Z         case_test_file.write_text("export const theme = 'test';")
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4634259Z     
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4634597Z         # Existing file with different case that will cause collision
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4635087Z         case_collision = test_dir / "NEWNAMETHEME.ts"
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4635610Z         case_collision.write_text("export const theme = 'existing';")
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4636061Z     
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4636363Z         # Debug: List all files before running
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4636972Z         print("\n=== Files before running ===")
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4637349Z         for f in test_dir.iterdir():
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4637693Z             print(f"  {f.name}")
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4638035Z         print("=== End files list ===")
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4638379Z     
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4638654Z         # Run the replacement on the test subdirectory
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4639263Z         run_main_flow_for_test(test_dir, default_map_file, dry_run=False, extensions=[".ts", ".py"])
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4639831Z     
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4640092Z         # Check that collision log was created
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4640519Z         collision_log = test_dir / COLLISIONS_ERRORS_LOG_FILE
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4641097Z         assert collision_log.exists(), "Collision error log file was not created"
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4641588Z     
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4641838Z         # Read and verify log content
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4642419Z         log_content = collision_log.read_text(encoding="utf-8")
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4642836Z     
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4643077Z         # Print log for debugging
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4643545Z         print(f"\n=== Collision Log Content ===\n{log_content}\n=== End Log ===\n")
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4644033Z     
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4644312Z         # Verify exact match collision is logged
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4644875Z         assert "OldnameTheme.ts" in log_content, "OldnameTheme.ts collision not logged"
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4645579Z         assert "OldnameTheme.ts" in log_content, "Target collision file not mentioned"
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4646264Z         assert "exact match" in log_content, "Exact match collision type not specified"
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4646758Z     
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4647141Z         # Verify collision is logged (on case-insensitive filesystems like macOS,
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4647811Z         # OLDNAME_CONFIG.py and oldname_config.py are the same, so it's an exact match)
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4648496Z         assert "oldname_config.py" in log_content, "Case-insensitive source not logged"
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4649133Z         # The collision should be logged with the attempted target name
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4649757Z         assert "oldname_config.py" in log_content, "Collision target not mentioned"
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4650570Z     
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4650836Z         # Verify transaction details are included
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4651227Z         assert "Transaction ID:" in log_content
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4651625Z >       assert "Original Name:" in log_content
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4654227Z E       AssertionError: assert 'Original Name:' in '2025-06-29 16:02:04 - COLLISION (case-insensitive match):\n  Source: OldnameTheme.ts\n  Target: N/A\n  Collision with: NEWNAMETHEME.ts\n  Transaction ID: 518362b3-a556-4962-ba8c-28d213df87d6\n--------------------------------------------------------------------------------\n2025-06-29 16:02:04 - COLLISION (exact match):\n  Source: oldname_config.py\n  Target: N/A\n  Collision with: newname_config.py\n  Transaction ID: 12f5fd72-e0dd-4d69-b4e6-68a1c4b6483b\n--------------------------------------------------------------------------------\n'
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4656540Z 
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4656741Z tests/test_mass_find_replace.py:577: AssertionError
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4657270Z ----------------------------- Captured stdout call -----------------------------
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4657635Z 
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4657754Z === Files before running ===
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4658067Z   NEWNAMETHEME.ts
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4658330Z   OldnameTheme.ts
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4658593Z   newname_config.py
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4658862Z   oldname_config.py
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4659121Z === End files list ===
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4659292Z 
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4659408Z === Collision Log Content ===
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4659802Z 2025-06-29 16:02:04 - COLLISION (case-insensitive match):
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4660220Z   Source: OldnameTheme.ts
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4660521Z   Target: N/A
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4660793Z   Collision with: NEWNAMETHEME.ts
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4661545Z   Transaction ID: 518362b3-a556-4962-ba8c-28d213df87d6
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4662176Z --------------------------------------------------------------------------------
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4662654Z 2025-06-29 16:02:04 - COLLISION (exact match):
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4663041Z   Source: oldname_config.py
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4663332Z   Target: N/A
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4663597Z   Collision with: newname_config.py
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4664017Z   Transaction ID: 12f5fd72-e0dd-4d69-b4e6-68a1c4b6483b
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4664510Z --------------------------------------------------------------------------------
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4664842Z 
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4664946Z === End Log ===
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4665102Z 
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4665319Z ----------------------------- Captured stderr call -----------------------------
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4666090Z 16:02:04.796 | INFO    | Flow run 'acrid-chameleon' - Beginning flow run 'acrid-chameleon' for flow 'Mass Find Replace'
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4667222Z 16:02:04.797 | INFO    | Flow run 'acrid-chameleon' - Scanning '/tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test'...
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4668847Z 16:02:04.800 | INFO    | Flow run 'acrid-chameleon' - Scan complete. 2 transactions planned in '/tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/planned_transactions.json'
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4670092Z 16:02:04.801 | INFO    | Flow run 'acrid-chameleon' - Starting execution phase...
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4671013Z 16:02:04.908 | INFO    | Flow run 'archetypal-butterfly' - Beginning subflow run 'archetypal-butterfly' for flow 'execute-all-transactions'
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4672792Z 16:02:04.910 | WARNING | Flow run 'acrid-chameleon' - Collision logged to collisions_errors.log: case-insensitive match for /tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/OldnameTheme.ts
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4674750Z 16:02:04.910 | WARNING | Flow run 'acrid-chameleon' - Collision logged to collisions_errors.log: exact match for /tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/oldname_config.py
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4676411Z 16:02:04.911 | INFO    | Flow run 'acrid-chameleon' - Execution phase complete. Stats: {'total': 2, 'completed': 0, 'failed': 2, 'skipped': 0, 'retry_later': 0}
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4677534Z 16:02:04.933 | INFO    | Flow run 'archetypal-butterfly' - Finished in state Completed()
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4678508Z 16:02:04.933 | INFO    | Flow run 'acrid-chameleon' - Execution phase complete. Stats: {'total': 2, 'completed': 0, 'failed': 2, 'skipped': 0, 'retry_later': 0}
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4680111Z 16:02:04.934 | INFO    | Flow run 'acrid-chameleon' - Review '/tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/planned_transactions.json' for a detailed log of changes and their statuses.
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4682907Z 16:02:04.934 | INFO    | Flow run 'acrid-chameleon' - [91mWarning: File/folder rename collisions were detected. See '/tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/collisions_errors.log' for details. These renames were skipped.[0m
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4684461Z 16:02:04.948 | INFO    | Flow run 'acrid-chameleon' - Finished in state Completed()
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4685119Z ------------------------------ Captured log call -------------------------------
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4685921Z INFO     prefect.flow_runs:flow_engine.py:651 Beginning flow run 'acrid-chameleon' for flow 'Mass Find Replace'
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4687098Z INFO     prefect.flow_runs:mass_find_replace.py:390 Scanning '/tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test'...
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4688705Z INFO     prefect.flow_runs:mass_find_replace.py:451 Scan complete. 2 transactions planned in '/tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/planned_transactions.json'
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4690017Z INFO     prefect.flow_runs:mass_find_replace.py:481 Starting execution phase...
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4691101Z INFO     prefect.flow_runs:flow_engine.py:651 Beginning subflow run 'archetypal-butterfly' for flow 'execute-all-transactions'
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4704501Z WARNING  prefect.flow_runs:logging_utils.py:38 Collision logged to collisions_errors.log: case-insensitive match for /tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/OldnameTheme.ts
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4706562Z WARNING  prefect.flow_runs:logging_utils.py:38 Collision logged to collisions_errors.log: exact match for /tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/oldname_config.py
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4708232Z INFO     prefect.flow_runs:file_system_operations.py:1671 Execution phase complete. Stats: {'total': 2, 'completed': 0, 'failed': 2, 'skipped': 0, 'retry_later': 0}
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4709239Z INFO     prefect.flow_runs:flow_engine.py:724 Finished in state Completed()
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4710244Z INFO     prefect.flow_runs:mass_find_replace.py:494 Execution phase complete. Stats: {'total': 2, 'completed': 0, 'failed': 2, 'skipped': 0, 'retry_later': 0}
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4712089Z INFO     prefect.flow_runs:mass_find_replace.py:495 Review '/tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/planned_transactions.json' for a detailed log of changes and their statuses.
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:11.4714708Z INFO     prefect.flow_runs:mass_find_replace.py:503 [91mWarning: File/folder rename collisions were detected. See '/tmp/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/collisions_errors.log' for details. These renames were skipped.[0m
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1734757Z INFO     prefect.flow_runs:flow_engine.py:724 Finished in state Completed()
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1735346Z ================================ tests coverage ================================
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1735816Z _______________ coverage: platform linux, python 3.12.11-final-0 _______________
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1736134Z 
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1736305Z Name                                              Stmts   Miss  Cover
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1736698Z ---------------------------------------------------------------------
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1737136Z src/mass_find_replace/__init__.py                     6      0   100%
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1737978Z src/mass_find_replace/cli/__init__.py                 0      0   100%
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1738442Z src/mass_find_replace/core/__init__.py                4      0   100%
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1738912Z src/mass_find_replace/core/constants.py              27      0   100%
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1739377Z src/mass_find_replace/core/exceptions.py              4      0   100%
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1740024Z src/mass_find_replace/core/types.py                  16      0   100%
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1740864Z src/mass_find_replace/file_system_operations.py     755    229    70%
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1741695Z src/mass_find_replace/mass_find_replace.py          425    157    63%
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1742833Z src/mass_find_replace/replace_logic.py              191     61    68%
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1743651Z src/mass_find_replace/scanning/__init__.py            0      0   100%
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1744181Z src/mass_find_replace/test_config.py                 40     40     0%
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1744570Z src/mass_find_replace/transactions/__init__.py        0      0   100%
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1744956Z src/mass_find_replace/utils/__init__.py               5      0   100%
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1745333Z src/mass_find_replace/utils/file_encoding.py         93     23    75%
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1745711Z src/mass_find_replace/utils/file_locking.py          41     14    66%
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1746083Z src/mass_find_replace/utils/json_handlers.py         38      5    87%
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1746463Z src/mass_find_replace/utils/logging_utils.py         36      6    83%
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1746801Z ---------------------------------------------------------------------
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1747087Z TOTAL                                              1681    535    68%
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1747774Z Coverage XML written to file coverage.xml
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1748266Z =========================== short test summary info ============================
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1750596Z FAILED tests/test_mass_find_replace.py::test_collision_error_logging - AssertionError: assert 'Original Name:' in '2025-06-29 16:02:04 - COLLISION (case-insensitive match):\n  Source: OldnameTheme.ts\n  Target: N/A\n  Collision with: NEWNAMETHEME.ts\n  Transaction ID: 518362b3-a556-4962-ba8c-28d213df87d6\n--------------------------------------------------------------------------------\n2025-06-29 16:02:04 - COLLISION (exact match):\n  Source: oldname_config.py\n  Target: N/A\n  Collision with: newname_config.py\n  Transaction ID: 12f5fd72-e0dd-4d69-b4e6-68a1c4b6483b\n--------------------------------------------------------------------------------\n'
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1753746Z ============= 1 failed, 107 passed, 3 skipped in 63.27s (0:01:03) ==============
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1754123Z --- Logging error ---
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1754345Z Traceback (most recent call last):
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1762302Z   File "/home/runner/work/MFR/MFR/.venv/lib/python3.12/site-packages/prefect/logging/handlers.py", line 337, in emit
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1762971Z     self.console.print(message, soft_wrap=True)
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1763538Z   File "/home/runner/work/MFR/MFR/.venv/lib/python3.12/site-packages/rich/console.py", line 1692, in print
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1763984Z     with self:
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1764163Z          ^^^^
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1764575Z   File "/home/runner/work/MFR/MFR/.venv/lib/python3.12/site-packages/rich/console.py", line 866, in __exit__
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1765028Z     self._exit_buffer()
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1765479Z   File "/home/runner/work/MFR/MFR/.venv/lib/python3.12/site-packages/rich/console.py", line 824, in _exit_buffer
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1765943Z     self._check_buffer()
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1766400Z   File "/home/runner/work/MFR/MFR/.venv/lib/python3.12/site-packages/rich/console.py", line 2033, in _check_buffer
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1766865Z     self._write_buffer()
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1767315Z   File "/home/runner/work/MFR/MFR/.venv/lib/python3.12/site-packages/rich/console.py", line 2102, in _write_buffer
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1767966Z     self.file.write(text)
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1768189Z ValueError: I/O operation on closed file.
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1768429Z Call stack:
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1768881Z   File "/home/runner/work/MFR/MFR/.venv/lib/python3.12/site-packages/prefect/server/api/server.py", line 917, in stop
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1769376Z     subprocess_server_logger.info(
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1769934Z   File "/home/runner/.local/share/uv/python/cpython-3.12.11-linux-x86_64-gnu/lib/python3.12/logging/__init__.py", line 1539, in info
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1770470Z     self._log(INFO, msg, args, **kwargs)
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1771004Z   File "/home/runner/.local/share/uv/python/cpython-3.12.11-linux-x86_64-gnu/lib/python3.12/logging/__init__.py", line 1684, in _log
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1771522Z     self.handle(record)
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1772188Z   File "/home/runner/.local/share/uv/python/cpython-3.12.11-linux-x86_64-gnu/lib/python3.12/logging/__init__.py", line 1700, in handle
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1772730Z     self.callHandlers(record)
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1773299Z   File "/home/runner/.local/share/uv/python/cpython-3.12.11-linux-x86_64-gnu/lib/python3.12/logging/__init__.py", line 1762, in callHandlers
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1773841Z     hdlr.handle(record)
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1774343Z   File "/home/runner/.local/share/uv/python/cpython-3.12.11-linux-x86_64-gnu/lib/python3.12/logging/__init__.py", line 1028, in handle
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1774857Z     self.emit(record)
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1775315Z   File "/home/runner/work/MFR/MFR/.venv/lib/python3.12/site-packages/prefect/logging/handlers.py", line 343, in emit
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1775799Z     self.handleError(record)
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1776125Z Message: 'Stopping temporary server on http://127.0.0.1:8610'
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:12.1776549Z Arguments: ()
Test Python 3.12 on ubuntu-latest	Run tests with coverage	2025-06-29T16:02:13.9688814Z ##[error]Process completed with exit code 1.
Test Python 3.11 on macos-latest	Run tests with coverage	ï»¿2025-06-29T16:00:25.4459250Z ##[group]Run uv run pytest tests/ -v --cov=src/mass_find_replace --cov-report=xml --cov-report=term
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:25.4459750Z [36;1muv run pytest tests/ -v --cov=src/mass_find_replace --cov-report=xml --cov-report=term[0m
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:25.4527780Z shell: /bin/bash -e {0}
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:25.4527980Z env:
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:25.4528100Z   UV_VERSION: 0.7.13
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:25.4528250Z   DEFAULT_PYTHON: 3.11
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:25.4528410Z   GIT_AUTHOR_NAME: Emasoft
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:25.4528600Z   GIT_AUTHOR_EMAIL: 713559+Emasoft@users.noreply.github.com
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:25.4528850Z   GIT_COMMITTER_NAME: Emasoft
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:25.4529070Z   GIT_COMMITTER_EMAIL: 713559+Emasoft@users.noreply.github.com
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:25.4529330Z   UV_CACHE_DIR: /Users/runner/work/_temp/setup-uv-cache
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:25.4529550Z ##[endgroup]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:26.1463810Z ============================= test session starts ==============================
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:26.1464490Z platform darwin -- Python 3.11.13, pytest-8.4.1, pluggy-1.6.0 -- /Users/runner/work/MFR/MFR/.venv/bin/python
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:26.1466890Z cachedir: .pytest_cache
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:26.1467150Z rootdir: /Users/runner/work/MFR/MFR
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:26.1467420Z configfile: pyproject.toml
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:26.1467680Z plugins: anyio-4.9.0, cov-6.2.1
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:28.6293490Z collecting ... collected 111 items
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:28.6293710Z 
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:28.6621260Z tests/test_additional_coverage.py::TestFileSystemOperations::test_scan_with_symlinks PASSED [  0%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:28.6957370Z tests/test_additional_coverage.py::TestFileSystemOperations::test_scan_with_gitignore PASSED [  1%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:28.7271700Z tests/test_additional_coverage.py::TestFileSystemOperations::test_process_large_file_with_encoding_error PASSED [  2%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:43.2957610Z tests/test_additional_coverage.py::TestFileSystemOperations::test_execute_transaction_os_errors PASSED [  3%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:43.4619460Z tests/test_additional_coverage.py::TestFileSystemOperations::test_file_locking_error PASSED [  4%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:43.5557610Z tests/test_additional_coverage.py::TestFileSystemOperations::test_rtf_file_processing PASSED [  5%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:43.6447970Z tests/test_additional_coverage.py::TestFileSystemOperations::test_binary_file_detection_edge_cases PASSED [  6%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:43.7403590Z tests/test_additional_coverage.py::TestFileSystemOperations::test_save_transactions_with_backup PASSED [  7%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:43.8324070Z tests/test_additional_coverage.py::TestFileSystemOperations::test_load_transactions_invalid_json PASSED [  8%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:43.9234820Z tests/test_additional_coverage.py::TestFileSystemOperations::test_folder_with_special_chars PASSED [  9%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:44.0141590Z tests/test_additional_coverage.py::TestReplaceLogicEdgeCases::test_replace_with_unicode PASSED [  9%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:44.1052490Z tests/test_additional_coverage.py::TestReplaceLogicEdgeCases::test_case_sensitive_replacements PASSED [ 10%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:44.1986730Z tests/test_additional_coverage.py::TestReplaceLogicEdgeCases::test_overlapping_replacements PASSED [ 11%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:44.6612310Z tests/test_additional_coverage.py::TestMainFlowEdgeCases::test_main_flow_with_modified_files_detection PASSED [ 12%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:44.6713620Z tests/test_additional_coverage.py::TestMainFlowEdgeCases::test_main_flow_keyboard_interrupt SKIPPED [ 13%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:44.8353480Z tests/test_additional_coverage.py::TestMainFlowEdgeCases::test_main_flow_with_all_skip_flags PASSED [ 14%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:44.9395840Z tests/test_additional_coverage.py::TestUtilityFunctions::test_get_exclude_patterns PASSED [ 15%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:45.0332840Z tests/test_additional_coverage.py::TestUtilityFunctions::test_update_transaction_status_edge_cases PASSED [ 16%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:45.1312090Z tests/test_additional_coverage.py::TestUtilityFunctions::test_open_file_with_encoding_edge_cases PASSED [ 17%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:45.2223800Z tests/test_additional_coverage.py::TestUtilityFunctions::test_group_and_process_file_transactions_edge_cases PASSED [ 18%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:45.3291630Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_help PASSED [ 18%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:45.4295980Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_self_test PASSED [ 19%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:45.5300300Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_self_test_failure PASSED [ 20%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:45.6306220Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_force_interactive_conflict PASSED [ 21%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:45.7312650Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_invalid_directory PASSED [ 22%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:45.8217610Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_not_directory PASSED [ 23%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:45.9190490Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_invalid_mapping_file PASSED [ 24%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:46.0098430Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_invalid_json PASSED [ 25%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:46.0993380Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_empty_mapping PASSED [ 26%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:46.2070390Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_invalid_ignore_file PASSED [ 27%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:46.2985290Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_timeout_validation PASSED [ 27%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:46.3877890Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_successful_run PASSED [ 28%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:46.4791070Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_with_failures PASSED [ 29%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:46.6420040Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_skip_scan_no_file PASSED [ 30%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:46.9057820Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_resume_no_file PASSED [ 31%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:47.0745830Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_empty_transaction_file PASSED [ 32%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:47.2528400Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_with_dry_run_reset PASSED [ 33%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:47.5630530Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_interactive_mode PASSED [ 34%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:47.9715430Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_quiet_mode PASSED [ 35%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:48.2332640Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_verbose_mode PASSED [ 36%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:48.3995570Z tests/test_coverage_improvements.py::TestExecuteTransactions::test_interactive_mode_skip PASSED [ 36%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:48.5653090Z tests/test_coverage_improvements.py::TestExecuteTransactions::test_interactive_mode_apply_all PASSED [ 37%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:48.7583300Z tests/test_coverage_improvements.py::TestExecuteTransactions::test_transaction_with_high_retry_count PASSED [ 38%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:48.8735480Z tests/test_coverage_improvements.py::TestHelperFunctions::test_get_logger_without_prefect PASSED [ 39%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:48.9880590Z tests/test_coverage_improvements.py::TestHelperFunctions::test_get_logger_with_context_error PASSED [ 40%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:49.0884720Z tests/test_coverage_improvements.py::TestHelperFunctions::test_print_mapping_table PASSED [ 41%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:49.1888960Z tests/test_coverage_improvements.py::TestHelperFunctions::test_get_operation_description PASSED [ 42%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:49.2807710Z tests/test_coverage_improvements.py::TestHelperFunctions::test_check_existing_transactions PASSED [ 43%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:49.4012920Z tests/test_coverage_improvements.py::TestHelperFunctions::test_run_subprocess_command PASSED [ 44%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:49.5369900Z tests/test_coverage_improvements.py::TestColorOutput::test_color_constants PASSED [ 45%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:49.6519440Z tests/test_coverage_improvements.py::TestReplaceLogic::test_validate_mapping_structure PASSED [ 45%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:49.7752070Z tests/test_coverage_improvements.py::TestFileOperations::test_get_file_encoding PASSED [ 46%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:49.8774940Z tests/test_coverage_improvements.py::TestFileOperations::test_is_binary_file PASSED [ 47%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:49.9825960Z tests/test_coverage_improvements.py::TestFileOperations::test_transaction_status_update PASSED [ 48%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:50.0822730Z tests/test_coverage_improvements.py::TestFileOperations::test_load_ignore_patterns PASSED [ 49%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:50.2603820Z tests/test_coverage_improvements.py::TestFileOperations::test_folder_rename_collision PASSED [ 50%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:50.5544890Z tests/test_final_coverage.py::TestPrefectIntegration::test_main_flow_with_prefect PASSED [ 51%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:50.7483720Z tests/test_final_coverage.py::TestPrefectIntegration::test_subprocess_flush_handlers PASSED [ 52%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:50.9091050Z tests/test_final_coverage.py::TestPrefectIntegration::test_subprocess_without_flush PASSED [ 53%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:51.0091240Z tests/test_final_coverage.py::TestMainCLIEdgeCases::test_main_cli_exception_handling PASSED [ 54%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:51.1122550Z tests/test_final_coverage.py::TestMainCLIEdgeCases::test_main_cli_json_key_error PASSED [ 54%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:51.2162530Z tests/test_final_coverage.py::TestMainCLIEdgeCases::test_main_cli_cyclic_mapping PASSED [ 55%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:51.3386330Z tests/test_final_coverage.py::TestMainCLIEdgeCases::test_main_cli_user_confirmation_no PASSED [ 56%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:51.4996410Z tests/test_final_coverage.py::TestMainCLIEdgeCases::test_main_cli_timeout_zero PASSED [ 57%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:51.6387020Z tests/test_final_coverage.py::TestCheckExistingTransactions::test_all_transactions_completed PASSED [ 58%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:51.7382710Z tests/test_final_coverage.py::TestCheckExistingTransactions::test_no_transactions PASSED [ 59%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:51.9141530Z tests/test_final_coverage.py::TestTransactionProcessing::test_symlink_rename_dry_run PASSED [ 60%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:53.1003750Z tests/test_final_coverage.py::TestTransactionProcessing::test_file_rename_permission_error PASSED [ 61%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:53.2498750Z tests/test_final_coverage.py::TestTransactionProcessing::test_content_change_with_no_changes PASSED [ 62%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:53.3487570Z tests/test_final_coverage.py::TestLoggerFunctions::test_log_message_functions PASSED [ 63%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:53.4456330Z tests/test_final_coverage.py::TestLoggerFunctions::test_replace_logic_functions PASSED [ 63%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:53.5434810Z tests/test_final_coverage.py::TestStringProcessing::test_canonicalize_edge_cases PASSED [ 64%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:53.6228740Z tests/test_final_coverage.py::TestStringProcessing::test_strip_functions PASSED [ 65%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:53.7039490Z tests/test_final_coverage.py::TestEncodingDetection::test_encoding_detection_edge_cases PASSED [ 66%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:53.7840550Z tests/test_final_coverage.py::TestRTFProcessing::test_rtf_to_text_edge_cases PASSED [ 67%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:53.8756620Z tests/test_final_coverage.py::TestFileOperationHelpers::test_transaction_type_enum PASSED [ 68%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:53.9946160Z tests/test_final_coverage.py::TestFileOperationHelpers::test_transaction_status_enum PASSED [ 69%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:54.0784160Z tests/test_final_coverage.py::TestScanEdgeCases::test_scan_with_permission_error PASSED [ 70%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:55.4216520Z tests/test_github_integration.py::TestGitHubIntegration::test_clone_and_setup_public_repo PASSED [ 71%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:56.8236010Z tests/test_github_integration.py::TestGitHubIntegration::test_build_mfr_in_container PASSED [ 72%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:57.3036720Z tests/test_github_integration.py::TestGitHubIntegration::test_mfr_on_cloned_repo SKIPPED [ 72%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:57.3165680Z tests/test_github_integration.py::TestGitHubIntegration::test_github_cli_operations SKIPPED [ 73%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:57.5867520Z tests/test_mass_find_replace.py::test_dry_run_behavior PASSED            [ 74%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:57.8414070Z tests/test_mass_find_replace.py::test_dry_run_virtual_paths PASSED       [ 75%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:58.0861340Z tests/test_mass_find_replace.py::test_path_resolution_after_rename PASSED [ 76%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:58.3576420Z tests/test_mass_find_replace.py::test_folder_nesting PASSED              [ 77%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:00:58.5962660Z tests/test_mass_find_replace.py::test_unicode_combining_chars PASSED     [ 78%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:00.0287770Z tests/test_mass_find_replace.py::test_permission_error_handling PASSED   [ 79%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:00.1142000Z tests/test_mass_find_replace.py::test_self_test_option PASSED            [ 80%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:00.4217940Z tests/test_mass_find_replace.py::test_symlink_name_processing PASSED     [ 81%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:00.6553270Z tests/test_mass_find_replace.py::test_extension_filtering PASSED         [ 81%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:00.8874020Z tests/test_mass_find_replace.py::test_rtf_processing PASSED              [ 82%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:01.1213290Z tests/test_mass_find_replace.py::test_binary_files_logging PASSED        [ 83%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:01.3629370Z tests/test_mass_find_replace.py::test_recursive_path_resolution PASSED   [ 84%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:04.0376190Z tests/test_mass_find_replace.py::test_gb18030_encoding PASSED            [ 85%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:04.5626850Z tests/test_mass_find_replace.py::test_collision_error_logging FAILED     [ 86%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:04.8017690Z tests/test_mass_find_replace.py::test_interactive_mode_collision_skip PASSED [ 87%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:04.9524590Z tests/test_mass_find_replace.py::test_malformed_json_handling PASSED     [ 88%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:05.2286260Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_trailing_spaces PASSED [ 89%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:05.4736920Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_line_endings PASSED [ 90%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:05.7429420Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_encoding_errors PASSED [ 90%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:06.0461730Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_different_encodings PASSED [ 91%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:06.2941150Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_null_bytes PASSED [ 92%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:06.5479010Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_corrupt_test_files PASSED [ 93%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:06.8052770Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_very_long_lines PASSED [ 94%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:07.0442810Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_unicode_edge_cases PASSED [ 95%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:07.3004150Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_empty_files_and_edge_cases PASSED [ 96%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:07.5528900Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_concurrent_patterns PASSED [ 97%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:07.7927360Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_file_permissions_preserved PASSED [ 98%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.0280780Z tests/test_surgical_replacements.py::TestErrorHandling::test_handles_read_only_files PASSED [ 99%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9070560Z tests/test_surgical_replacements.py::TestErrorHandling::test_handles_files_with_no_newline_at_end PASSED [100%]
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9071100Z 
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9071230Z =================================== FAILURES ===================================
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9071580Z _________________________ test_collision_error_logging _________________________
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9071870Z 
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9072520Z temp_test_dir = {'config': PosixPath('/private/var/folders/y6/nj790rtn62lfktb1sh__79hc0000gn/T/pytest-of-runner/pytest-0/test_collisio...vate/var/folders/y6/nj790rtn62lfktb1sh__79hc0000gn/T/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime')}
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9073810Z default_map_file = PosixPath('/private/var/folders/y6/nj790rtn62lfktb1sh__79hc0000gn/T/pytest-of-runner/pytest-0/test_collision_error_logging0/config/replacement_mapping.json')
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9074300Z 
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9074830Z     def test_collision_error_logging(temp_test_dir: dict[str, Path], default_map_file: Path) -> None:
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9078140Z         """Test that collision errors are properly logged"""
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9078420Z         # Use a fresh directory to avoid conflicts with fixture files
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9078700Z         test_dir = temp_test_dir["runtime"] / "collision_test"
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9078930Z         test_dir.mkdir()
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9090980Z     
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9091170Z         # Test 1: File that will rename to collide with existing file
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9091550Z         # This file will be renamed from oldname_config.py to newname_config.py
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9091900Z         source_file = test_dir / "oldname_config.py"
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9092160Z         source_file.write_text("# Config file")
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9092340Z     
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9092470Z         # Existing file that will cause collision
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9092690Z         exact_collision = test_dir / "newname_config.py"
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9093000Z         exact_collision.write_text("# Existing config")
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9093270Z     
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9093480Z         # Test 2: File with different case that will collide after rename
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9093800Z         # OldnameTheme.ts will be renamed to NewnameTheme.ts
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9094050Z         case_test_file = test_dir / "OldnameTheme.ts"
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9094310Z         case_test_file.write_text("export const theme = 'test';")
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9094560Z     
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9095000Z --- Logging error ---
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9095280Z Traceback (most recent call last):
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9101170Z   File "/Users/runner/work/MFR/MFR/.venv/lib/python3.11/site-packages/prefect/logging/handlers.py", line 337, in emit
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9101700Z     self.console.print(message, soft_wrap=True)
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9102110Z   File "/Users/runner/work/MFR/MFR/.venv/lib/python3.11/site-packages/rich/console.py", line 1692, in print
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9102500Z     with self:
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9102960Z   File "/Users/runner/work/MFR/MFR/.venv/lib/python3.11/site-packages/rich/console.py", line 866, in __exit__
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9103320Z     self._exit_buffer()
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9103750Z   File "/Users/runner/work/MFR/MFR/.venv/lib/python3.11/site-packages/rich/console.py", line 824, in _exit_buffer
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9104110Z     self._check_buffer()
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9104500Z   File "/Users/runner/work/MFR/MFR/.venv/lib/python3.11/site-packages/rich/console.py", line 2033, in _check_buffer
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9104940Z     self._write_buffer()
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9105460Z   File "/Users/runner/work/MFR/MFR/.venv/lib/python3.11/site-packages/rich/console.py", line 2102, in _write_buffer
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9105880Z     self.file.write(text)
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9106090Z ValueError: I/O operation on closed file.
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9106330Z Call stack:
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9106550Z         # Existing file with different case that will cause collision
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9106860Z         case_collision = test_dir / "NEWNAMETHEME.ts"
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9107130Z         case_collision.write_text("export const theme = 'existing';")
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9107390Z     
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9107540Z         # Debug: List all files before running
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9107740Z         print("\n=== Files before running ===")
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9107970Z         for f in test_dir.iterdir():
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9108190Z             print(f"  {f.name}")
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9108410Z         print("=== End files list ===")
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9108620Z     
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9108790Z         # Run the replacement on the test subdirectory
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9109150Z         run_main_flow_for_test(test_dir, default_map_file, dry_run=False, extensions=[".ts", ".py"])
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9109540Z     
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9109730Z         # Check that collision log was created
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9110010Z         collision_log = test_dir / COLLISIONS_ERRORS_LOG_FILE
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9110410Z         assert collision_log.exists(), "Collision error log file was not created"
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9110880Z     
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9111040Z         # Read and verify log content
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9111360Z         log_content = collision_log.read_text(encoding="utf-8")
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9111620Z     
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9111730Z         # Print log for debugging
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9111970Z         print(f"\n=== Collision Log Content ===\n{log_content}\n=== End Log ===\n")
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9112190Z     
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9112320Z         # Verify exact match collision is logged
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9112600Z         assert "OldnameTheme.ts" in log_content, "OldnameTheme.ts collision not logged"
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9113020Z         assert "OldnameTheme.ts" in log_content, "Target collision file not mentioned"
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9113440Z         assert "exact match" in log_content, "Exact match collision type not specified"
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9113720Z     
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9113940Z         # Verify collision is logged (on case-insensitive filesystems like macOS,
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9114340Z         # OLDNAME_CONFIG.py and oldname_config.py are the same, so it's an exact match)
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9114690Z         assert "oldname_config.py" in log_content, "Case-insensitive source not logged"
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9115010Z         # The collision should be logged with the attempted target name
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9115320Z         assert "oldname_config.py" in log_content, "Collision target not mentioned"
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9115550Z     
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9115680Z         # Verify transaction details are included
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9116070Z         assert "Transaction ID:" in log_content
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9116270Z >       assert "Original Name:" in log_content
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9117460Z E       AssertionError: assert 'Original Name:' in '2025-06-29 16:01:04 - COLLISION (exact match):\n  Source: OldnameTheme.ts\n  Target: N/A\n  Collision with: NewnameTheme.ts\n  Transaction ID: 4a4bd0b1-4965-4869-ad0c-9f7ff2ae9081\n--------------------------------------------------------------------------------\n2025-06-29 16:01:04 - COLLISION (exact match):\n  Source: oldname_config.py\n  Target: N/A\n  Collision with: newname_config.py\n  Transaction ID: e909cf2e-4fc7-4f82-bf1e-b3e23f84cd5e\n--------------------------------------------------------------------------------\n'
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9118580Z 
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9118670Z tests/test_mass_find_replace.py:577: AssertionError
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9118930Z ----------------------------- Captured stdout call -----------------------------
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9119120Z 
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9119170Z === Files before running ===
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9119320Z   newname_config.py
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9119450Z   OldnameTheme.ts
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9119600Z   NEWNAMETHEME.ts
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9119760Z   oldname_config.py
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9119920Z === End files list ===
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9120010Z 
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9120090Z === Collision Log Content ===
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9120280Z 2025-06-29 16:01:04 - COLLISION (exact match):
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9120530Z   Source: OldnameTheme.ts
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9120680Z   Target: N/A
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9120810Z   Collision with: NewnameTheme.ts
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9121010Z   Transaction ID: 4a4bd0b1-4965-4869-ad0c-9f7ff2ae9081
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9121260Z --------------------------------------------------------------------------------
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9121500Z 2025-06-29 16:01:04 - COLLISION (exact match):
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9121680Z   Source: oldname_config.py
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9121820Z   Target: N/A
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9121990Z   Collision with: newname_config.py
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9122200Z   Transaction ID: e909cf2e-4fc7-4f82-bf1e-b3e23f84cd5e
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9122450Z --------------------------------------------------------------------------------
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9122650Z 
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9122690Z === End Log ===
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9122800Z 
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9122920Z ----------------------------- Captured stderr call -----------------------------
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9123480Z 16:01:04.091 | INFO    | Flow run 'resourceful-leech' - Beginning flow run 'resourceful-leech' for flow 'Mass Find Replace'
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9124190Z 16:01:04.092 | INFO    | Flow run 'resourceful-leech' - Scanning '/private/var/folders/y6/nj790rtn62lfktb1sh__79hc0000gn/T/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test'...
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9125220Z 16:01:04.094 | INFO    | Flow run 'resourceful-leech' - Scan complete. 2 transactions planned in '/private/var/folders/y6/nj790rtn62lfktb1sh__79hc0000gn/T/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/planned_transactions.json'
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9125960Z 16:01:04.094 | INFO    | Flow run 'resourceful-leech' - Starting execution phase...
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9126430Z 16:01:04.195 | INFO    | Flow run 'judicious-firefly' - Beginning subflow run 'judicious-firefly' for flow 'execute-all-transactions'
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9127350Z 16:01:04.196 | WARNING | Flow run 'resourceful-leech' - Collision logged to collisions_errors.log: exact match for /private/var/folders/y6/nj790rtn62lfktb1sh__79hc0000gn/T/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/OldnameTheme.ts
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9128580Z 16:01:04.196 | WARNING | Flow run 'resourceful-leech' - Collision logged to collisions_errors.log: exact match for /private/var/folders/y6/nj790rtn62lfktb1sh__79hc0000gn/T/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/oldname_config.py
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9129640Z 16:01:04.197 | INFO    | Flow run 'resourceful-leech' - Execution phase complete. Stats: {'total': 2, 'completed': 0, 'failed': 2, 'skipped': 0, 'retry_later': 0}
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9130170Z 16:01:04.236 | INFO    | Flow run 'judicious-firefly' - Finished in state Completed()
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9130660Z 16:01:04.236 | INFO    | Flow run 'resourceful-leech' - Execution phase complete. Stats: {'total': 2, 'completed': 0, 'failed': 2, 'skipped': 0, 'retry_later': 0}
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9131610Z 16:01:04.236 | INFO    | Flow run 'resourceful-leech' - Review '/private/var/folders/y6/nj790rtn62lfktb1sh__79hc0000gn/T/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/planned_transactions.json' for a detailed log of changes and their statuses.
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9133480Z 16:01:04.237 | INFO    | Flow run 'resourceful-leech' - [91mWarning: File/folder rename collisions were detected. See '/private/var/folders/y6/nj790rtn62lfktb1sh__79hc0000gn/T/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/collisions_errors.log' for details. These renames were skipped.[0m
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9134390Z 16:01:04.248 | INFO    | Flow run 'resourceful-leech' - Finished in state Completed()
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9134740Z ------------------------------ Captured log call -------------------------------
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9135200Z INFO     prefect.flow_runs:flow_engine.py:651 Beginning flow run 'resourceful-leech' for flow 'Mass Find Replace'
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9135910Z INFO     prefect.flow_runs:mass_find_replace.py:390 Scanning '/private/var/folders/y6/nj790rtn62lfktb1sh__79hc0000gn/T/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test'...
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9136970Z INFO     prefect.flow_runs:mass_find_replace.py:451 Scan complete. 2 transactions planned in '/private/var/folders/y6/nj790rtn62lfktb1sh__79hc0000gn/T/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/planned_transactions.json'
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9137730Z INFO     prefect.flow_runs:mass_find_replace.py:481 Starting execution phase...
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9138430Z INFO     prefect.flow_runs:flow_engine.py:651 Beginning subflow run 'judicious-firefly' for flow 'execute-all-transactions'
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9139450Z WARNING  prefect.flow_runs:logging_utils.py:38 Collision logged to collisions_errors.log: exact match for /private/var/folders/y6/nj790rtn62lfktb1sh__79hc0000gn/T/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/OldnameTheme.ts
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9140920Z WARNING  prefect.flow_runs:logging_utils.py:38 Collision logged to collisions_errors.log: exact match for /private/var/folders/y6/nj790rtn62lfktb1sh__79hc0000gn/T/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/oldname_config.py
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9142000Z INFO     prefect.flow_runs:file_system_operations.py:1671 Execution phase complete. Stats: {'total': 2, 'completed': 0, 'failed': 2, 'skipped': 0, 'retry_later': 0}
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9142580Z INFO     prefect.flow_runs:flow_engine.py:724 Finished in state Completed()
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9143130Z INFO     prefect.flow_runs:mass_find_replace.py:494 Execution phase complete. Stats: {'total': 2, 'completed': 0, 'failed': 2, 'skipped': 0, 'retry_later': 0}
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9144160Z INFO     prefect.flow_runs:mass_find_replace.py:495 Review '/private/var/folders/y6/nj790rtn62lfktb1sh__79hc0000gn/T/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/planned_transactions.json' for a detailed log of changes and their statuses.
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9145680Z INFO     prefect.flow_runs:mass_find_replace.py:503 [91mWarning: File/folder rename collisions were detected. See '/private/var/folders/y6/nj790rtn62lfktb1sh__79hc0000gn/T/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/collisions_errors.log' for details. These renames were skipped.[0m
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9146630Z INFO     prefect.flow_runs:flow_engine.py:724 Finished in state Completed()
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9147170Z ================================ tests coverage ================================
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9147520Z ______________ coverage: platform darwin, python 3.11.13-final-0 _______________
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9147720Z 
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9147830Z Name                                              Stmts   Miss  Cover
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9148110Z ---------------------------------------------------------------------
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9148450Z src/mass_find_replace/__init__.py                     6      0   100%
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9148750Z src/mass_find_replace/cli/__init__.py                 0      0   100%
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9149080Z src/mass_find_replace/core/__init__.py                4      0   100%
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9149490Z src/mass_find_replace/core/constants.py              27      0   100%
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9149830Z src/mass_find_replace/core/exceptions.py              4      0   100%
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9150190Z src/mass_find_replace/core/types.py                  16      0   100%
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9150550Z src/mass_find_replace/file_system_operations.py     755    231    69%
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9150890Z src/mass_find_replace/mass_find_replace.py          425    157    63%
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9151280Z src/mass_find_replace/replace_logic.py              191     61    68%
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9151600Z src/mass_find_replace/scanning/__init__.py            0      0   100%
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9151940Z src/mass_find_replace/test_config.py                 40     40     0%
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9152300Z src/mass_find_replace/transactions/__init__.py        0      0   100%
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9152630Z src/mass_find_replace/utils/__init__.py               5      0   100%
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9152970Z src/mass_find_replace/utils/file_encoding.py         93     23    75%
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9153330Z src/mass_find_replace/utils/file_locking.py          41     14    66%
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9153660Z src/mass_find_replace/utils/json_handlers.py         38      5    87%
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9154000Z src/mass_find_replace/utils/logging_utils.py         36      6    83%
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9154330Z ---------------------------------------------------------------------
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9154610Z TOTAL                                              1681    537    68%
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9154900Z Coverage XML written to file coverage.xml
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9155160Z =========================== short test summary info ============================
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9156670Z FAILED tests/test_mass_find_replace.py::test_collision_error_logging - AssertionError: assert 'Original Name:' in '2025-06-29 16:01:04 - COLLISION (exact match):\n  Source: OldnameTheme.ts\n  Target: N/A\n  Collision with: NewnameTheme.ts\n  Transaction ID: 4a4bd0b1-4965-4869-ad0c-9f7ff2ae9081\n--------------------------------------------------------------------------------\n2025-06-29 16:01:04 - COLLISION (exact match):\n  Source: oldname_config.py\n  Target: N/A\n  Collision with: newname_config.py\n  Transaction ID: e909cf2e-4fc7-4f82-bf1e-b3e23f84cd5e\n--------------------------------------------------------------------------------\n'
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9158060Z ================== 1 failed, 107 passed, 3 skipped in 42.30s ===================
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9158550Z   File "/Users/runner/work/MFR/MFR/.venv/lib/python3.11/site-packages/prefect/server/api/server.py", line 917, in stop
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9158970Z     subprocess_server_logger.info(
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9159430Z   File "/Users/runner/.local/share/uv/python/cpython-3.11.13-macos-aarch64-none/lib/python3.11/logging/__init__.py", line 1489, in info
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9159870Z     self._log(INFO, msg, args, **kwargs)
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9160360Z   File "/Users/runner/.local/share/uv/python/cpython-3.11.13-macos-aarch64-none/lib/python3.11/logging/__init__.py", line 1634, in _log
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9160800Z     self.handle(record)
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9161230Z   File "/Users/runner/.local/share/uv/python/cpython-3.11.13-macos-aarch64-none/lib/python3.11/logging/__init__.py", line 1644, in handle
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9161800Z     self.callHandlers(record)
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9162290Z   File "/Users/runner/.local/share/uv/python/cpython-3.11.13-macos-aarch64-none/lib/python3.11/logging/__init__.py", line 1706, in callHandlers
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9162710Z     hdlr.handle(record)
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9163230Z   File "/Users/runner/.local/share/uv/python/cpython-3.11.13-macos-aarch64-none/lib/python3.11/logging/__init__.py", line 978, in handle
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9163630Z     self.emit(record)
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9163970Z   File "/Users/runner/work/MFR/MFR/.venv/lib/python3.11/site-packages/prefect/logging/handlers.py", line 343, in emit
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9164350Z     self.handleError(record)
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9164640Z Message: 'Stopping temporary server on http://127.0.0.1:8033'
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:08.9164950Z Arguments: ()
Test Python 3.11 on macos-latest	Run tests with coverage	2025-06-29T16:01:10.2311400Z ##[error]Process completed with exit code 1.
Test Python 3.12 on windows-latest	Run tests with coverage	ï»¿2025-06-29T16:00:29.8303968Z ##[group]Run uv run pytest tests/ -v --cov=src/mass_find_replace --cov-report=xml --cov-report=term
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:00:29.8304898Z [36;1muv run pytest tests/ -v --cov=src/mass_find_replace --cov-report=xml --cov-report=term[0m
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:00:29.8367351Z shell: C:\Program Files\PowerShell\7\pwsh.EXE -command ". '{0}'"
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:00:29.8367668Z env:
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:00:29.8367817Z   UV_VERSION: 0.7.13
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:00:29.8367987Z   DEFAULT_PYTHON: 3.11
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:00:29.8368179Z   GIT_AUTHOR_NAME: Emasoft
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:00:29.8368436Z   GIT_AUTHOR_EMAIL: 713559+Emasoft@users.noreply.github.com
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:00:29.8368714Z   GIT_COMMITTER_NAME: Emasoft
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:00:29.8368978Z   GIT_COMMITTER_EMAIL: 713559+Emasoft@users.noreply.github.com
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:00:29.8369297Z   UV_TOOL_BIN_DIR: D:\a\_temp\uv-tool-bin-dir
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:00:29.8369695Z   UV_TOOL_DIR: D:\a\_temp\uv-tool-dir
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:00:29.8369936Z   UV_CACHE_DIR: D:\a\_temp\setup-uv-cache
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:00:29.8370165Z ##[endgroup]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:00:31.8785477Z ============================= test session starts =============================
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:00:31.8786851Z platform win32 -- Python 3.12.11, pytest-8.4.1, pluggy-1.6.0 -- D:\a\MFR\MFR\.venv\Scripts\python.exe
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:00:31.8787701Z cachedir: .pytest_cache
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:00:31.8788108Z rootdir: D:\a\MFR\MFR
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:00:31.8788514Z configfile: pyproject.toml
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:00:31.8788939Z plugins: anyio-4.9.0, cov-6.2.1
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:00:43.6972704Z collecting ... collected 111 items
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:00:43.6972978Z 
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:00:43.7474333Z tests/test_additional_coverage.py::TestFileSystemOperations::test_scan_with_symlinks SKIPPED [  0%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:00:43.8005069Z tests/test_additional_coverage.py::TestFileSystemOperations::test_scan_with_gitignore PASSED [  1%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:00:43.8421089Z tests/test_additional_coverage.py::TestFileSystemOperations::test_process_large_file_with_encoding_error PASSED [  2%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:13.6708614Z tests/test_additional_coverage.py::TestFileSystemOperations::test_execute_transaction_os_errors PASSED [  3%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:14.1413960Z tests/test_additional_coverage.py::TestFileSystemOperations::test_file_locking_error PASSED [  4%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:14.3246688Z tests/test_additional_coverage.py::TestFileSystemOperations::test_rtf_file_processing PASSED [  5%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:14.5070235Z tests/test_additional_coverage.py::TestFileSystemOperations::test_binary_file_detection_edge_cases PASSED [  6%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:14.6895830Z tests/test_additional_coverage.py::TestFileSystemOperations::test_save_transactions_with_backup PASSED [  7%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:14.8664731Z tests/test_additional_coverage.py::TestFileSystemOperations::test_load_transactions_invalid_json PASSED [  8%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:15.0405384Z tests/test_additional_coverage.py::TestFileSystemOperations::test_folder_with_special_chars PASSED [  9%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:15.2075769Z tests/test_additional_coverage.py::TestReplaceLogicEdgeCases::test_replace_with_unicode PASSED [  9%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:15.3767003Z tests/test_additional_coverage.py::TestReplaceLogicEdgeCases::test_case_sensitive_replacements PASSED [ 10%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:15.5450333Z tests/test_additional_coverage.py::TestReplaceLogicEdgeCases::test_overlapping_replacements PASSED [ 11%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:16.7959107Z tests/test_additional_coverage.py::TestMainFlowEdgeCases::test_main_flow_with_modified_files_detection PASSED [ 12%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:16.7974964Z tests/test_additional_coverage.py::TestMainFlowEdgeCases::test_main_flow_keyboard_interrupt SKIPPED [ 13%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:17.2435358Z tests/test_additional_coverage.py::TestMainFlowEdgeCases::test_main_flow_with_all_skip_flags PASSED [ 14%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:17.4163742Z tests/test_additional_coverage.py::TestUtilityFunctions::test_get_exclude_patterns PASSED [ 15%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:17.5860071Z tests/test_additional_coverage.py::TestUtilityFunctions::test_update_transaction_status_edge_cases PASSED [ 16%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:17.8049443Z tests/test_additional_coverage.py::TestUtilityFunctions::test_open_file_with_encoding_edge_cases PASSED [ 17%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:17.9822931Z tests/test_additional_coverage.py::TestUtilityFunctions::test_group_and_process_file_transactions_edge_cases PASSED [ 18%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:18.1517099Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_help PASSED [ 18%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:18.3207051Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_self_test PASSED [ 19%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:18.4893840Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_self_test_failure PASSED [ 20%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:18.6624652Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_force_interactive_conflict PASSED [ 21%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:18.8381867Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_invalid_directory PASSED [ 22%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:19.0568738Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_not_directory PASSED [ 23%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:19.2257866Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_invalid_mapping_file PASSED [ 24%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:19.4505586Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_invalid_json PASSED [ 25%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:19.6393633Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_empty_mapping PASSED [ 26%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:19.8068423Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_invalid_ignore_file PASSED [ 27%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:19.9774761Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_timeout_validation PASSED [ 27%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:20.1754084Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_successful_run PASSED [ 28%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:20.3647973Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_with_failures PASSED [ 29%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:20.9514170Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_skip_scan_no_file PASSED [ 30%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:21.7567321Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_resume_no_file PASSED [ 31%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:22.2311574Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_empty_transaction_file PASSED [ 32%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:22.7061107Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_with_dry_run_reset PASSED [ 33%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:23.5494172Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_interactive_mode PASSED [ 34%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:24.3830112Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_quiet_mode PASSED [ 35%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:25.2483846Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_verbose_mode PASSED [ 36%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:25.7233169Z tests/test_coverage_improvements.py::TestExecuteTransactions::test_interactive_mode_skip PASSED [ 36%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:26.4386500Z tests/test_coverage_improvements.py::TestExecuteTransactions::test_interactive_mode_apply_all PASSED [ 37%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:26.9142117Z tests/test_coverage_improvements.py::TestExecuteTransactions::test_transaction_with_high_retry_count PASSED [ 38%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:27.0882725Z tests/test_coverage_improvements.py::TestHelperFunctions::test_get_logger_without_prefect PASSED [ 39%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:27.2645610Z tests/test_coverage_improvements.py::TestHelperFunctions::test_get_logger_with_context_error PASSED [ 40%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:27.4470794Z tests/test_coverage_improvements.py::TestHelperFunctions::test_print_mapping_table PASSED [ 41%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:27.6250932Z tests/test_coverage_improvements.py::TestHelperFunctions::test_get_operation_description PASSED [ 42%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:27.8091766Z tests/test_coverage_improvements.py::TestHelperFunctions::test_check_existing_transactions PASSED [ 43%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:28.0787522Z tests/test_coverage_improvements.py::TestHelperFunctions::test_run_subprocess_command PASSED [ 44%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:28.2603254Z tests/test_coverage_improvements.py::TestColorOutput::test_color_constants PASSED [ 45%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:28.4323150Z tests/test_coverage_improvements.py::TestReplaceLogic::test_validate_mapping_structure PASSED [ 45%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:28.6087492Z tests/test_coverage_improvements.py::TestFileOperations::test_get_file_encoding PASSED [ 46%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:28.7848760Z tests/test_coverage_improvements.py::TestFileOperations::test_is_binary_file PASSED [ 47%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:28.9556295Z tests/test_coverage_improvements.py::TestFileOperations::test_transaction_status_update PASSED [ 48%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:29.1381698Z tests/test_coverage_improvements.py::TestFileOperations::test_load_ignore_patterns PASSED [ 49%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:29.6237119Z tests/test_coverage_improvements.py::TestFileOperations::test_folder_rename_collision PASSED [ 50%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:30.4394570Z tests/test_final_coverage.py::TestPrefectIntegration::test_main_flow_with_prefect PASSED [ 51%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:30.6304906Z tests/test_final_coverage.py::TestPrefectIntegration::test_subprocess_flush_handlers PASSED [ 52%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:30.8155992Z tests/test_final_coverage.py::TestPrefectIntegration::test_subprocess_without_flush PASSED [ 53%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:30.9906028Z tests/test_final_coverage.py::TestMainCLIEdgeCases::test_main_cli_exception_handling PASSED [ 54%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:31.1565958Z tests/test_final_coverage.py::TestMainCLIEdgeCases::test_main_cli_json_key_error PASSED [ 54%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:31.3420843Z tests/test_final_coverage.py::TestMainCLIEdgeCases::test_main_cli_cyclic_mapping PASSED [ 55%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:31.5181583Z tests/test_final_coverage.py::TestMainCLIEdgeCases::test_main_cli_user_confirmation_no PASSED [ 56%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:31.6785371Z tests/test_final_coverage.py::TestMainCLIEdgeCases::test_main_cli_timeout_zero PASSED [ 57%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:31.8313027Z tests/test_final_coverage.py::TestCheckExistingTransactions::test_all_transactions_completed PASSED [ 58%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:31.9885088Z tests/test_final_coverage.py::TestCheckExistingTransactions::test_no_transactions PASSED [ 59%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:32.1533517Z tests/test_final_coverage.py::TestTransactionProcessing::test_symlink_rename_dry_run SKIPPED [ 60%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:33.6008200Z tests/test_final_coverage.py::TestTransactionProcessing::test_file_rename_permission_error PASSED [ 61%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:34.0832350Z tests/test_final_coverage.py::TestTransactionProcessing::test_content_change_with_no_changes PASSED [ 62%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:34.2724029Z tests/test_final_coverage.py::TestLoggerFunctions::test_log_message_functions PASSED [ 63%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:34.4595197Z tests/test_final_coverage.py::TestLoggerFunctions::test_replace_logic_functions PASSED [ 63%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:34.6359122Z tests/test_final_coverage.py::TestStringProcessing::test_canonicalize_edge_cases PASSED [ 64%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:34.8122501Z tests/test_final_coverage.py::TestStringProcessing::test_strip_functions PASSED [ 65%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:34.9873898Z tests/test_final_coverage.py::TestEncodingDetection::test_encoding_detection_edge_cases PASSED [ 66%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:35.1629593Z tests/test_final_coverage.py::TestRTFProcessing::test_rtf_to_text_edge_cases PASSED [ 67%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:35.3396367Z tests/test_final_coverage.py::TestFileOperationHelpers::test_transaction_type_enum PASSED [ 68%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:35.5151633Z tests/test_final_coverage.py::TestFileOperationHelpers::test_transaction_status_enum PASSED [ 69%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:35.7027526Z tests/test_final_coverage.py::TestScanEdgeCases::test_scan_with_permission_error PASSED [ 70%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:01:36.5736028Z tests/test_github_integration.py::TestGitHubIntegration::test_clone_and_setup_public_repo PASSED [ 71%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:09.3648598Z tests/test_github_integration.py::TestGitHubIntegration::test_build_mfr_in_container PASSED [ 72%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.6927262Z tests/test_github_integration.py::TestGitHubIntegration::test_mfr_on_cloned_repo SKIPPED [ 72%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.6943810Z tests/test_github_integration.py::TestGitHubIntegration::test_github_cli_operations SKIPPED [ 73%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:25.5247448Z tests/test_mass_find_replace.py::test_dry_run_behavior PASSED            [ 74%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:26.3446186Z tests/test_mass_find_replace.py::test_dry_run_virtual_paths PASSED       [ 75%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:27.4653138Z tests/test_mass_find_replace.py::test_path_resolution_after_rename PASSED [ 76%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:28.2986166Z tests/test_mass_find_replace.py::test_folder_nesting PASSED              [ 77%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:29.1261673Z tests/test_mass_find_replace.py::test_unicode_combining_chars PASSED     [ 78%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:30.9464202Z tests/test_mass_find_replace.py::test_permission_error_handling PASSED   [ 79%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:31.1174517Z tests/test_mass_find_replace.py::test_self_test_option PASSED            [ 80%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:31.9497775Z tests/test_mass_find_replace.py::test_symlink_name_processing PASSED     [ 81%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:33.0897896Z tests/test_mass_find_replace.py::test_extension_filtering PASSED         [ 81%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:33.9020638Z tests/test_mass_find_replace.py::test_rtf_processing PASSED              [ 82%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:34.7321126Z tests/test_mass_find_replace.py::test_binary_files_logging PASSED        [ 83%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:35.5554741Z tests/test_mass_find_replace.py::test_recursive_path_resolution PASSED   [ 84%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:43.4487305Z tests/test_mass_find_replace.py::test_gb18030_encoding PASSED            [ 85%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:45.2022883Z tests/test_mass_find_replace.py::test_collision_error_logging FAILED     [ 86%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:46.0193150Z tests/test_mass_find_replace.py::test_interactive_mode_collision_skip PASSED [ 87%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:46.4801656Z tests/test_mass_find_replace.py::test_malformed_json_handling PASSED     [ 88%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:47.3097823Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_trailing_spaces PASSED [ 89%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:48.0999062Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_line_endings PASSED [ 90%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:48.8831522Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_encoding_errors PASSED [ 90%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:50.0480399Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_different_encodings PASSED [ 91%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:50.8487412Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_null_bytes PASSED [ 92%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:51.6416510Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_corrupt_test_files PASSED [ 93%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:52.4785092Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_very_long_lines PASSED [ 94%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:53.6258554Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_unicode_edge_cases PASSED [ 95%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:54.4295583Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_empty_files_and_edge_cases PASSED [ 96%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:55.2535893Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_concurrent_patterns PASSED [ 97%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:55.4246662Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_file_permissions_preserved SKIPPED [ 98%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:55.5873290Z tests/test_surgical_replacements.py::TestErrorHandling::test_handles_read_only_files SKIPPED [ 99%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7892746Z tests/test_surgical_replacements.py::TestErrorHandling::test_handles_files_with_no_newline_at_end PASSED [100%]
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7893631Z 
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7893835Z ================================== FAILURES ===================================
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7894485Z ________________________ test_collision_error_logging _________________________
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7894894Z 
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7896284Z temp_test_dir = {'config': WindowsPath('C:/Users/runneradmin/AppData/Local/Temp/pytest-of-runneradmin/pytest-0/test_collision_error_lo...wsPath('C:/Users/runneradmin/AppData/Local/Temp/pytest-of-runneradmin/pytest-0/test_collision_error_logging0/runtime')}
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7898649Z default_map_file = WindowsPath('C:/Users/runneradmin/AppData/Local/Temp/pytest-of-runneradmin/pytest-0/test_collision_error_logging0/config/replacement_mapping.json')
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7899283Z 
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7899547Z     def test_collision_error_logging(temp_test_dir: dict[str, Path], default_map_file: Path) -> None:
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7900088Z         """Test that collision errors are properly logged"""
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7900474Z         # Use a fresh directory to avoid conflicts with fixture files
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7900837Z         test_dir = temp_test_dir["runtime"] / "collision_test"
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7901152Z         test_dir.mkdir()
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7901381Z     
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7901620Z         # Test 1: File that will rename to collide with existing file
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7902041Z         # This file will be renamed from oldname_config.py to newname_config.py
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7902626Z         source_file = test_dir / "oldname_config.py"
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7902959Z         source_file.write_text("# Config file")
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7903221Z     
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7903442Z         # Existing file that will cause collision
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7903810Z         exact_collision = test_dir / "newname_config.py"
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7904130Z         exact_collision.write_text("# Existing config")
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7904425Z     
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7904701Z         # Test 2: File with different case that will collide after rename
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7905105Z         # OldnameTheme.ts will be renamed to NewnameTheme.ts
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7905428Z         case_test_file = test_dir / "OldnameTheme.ts"
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7905788Z         case_test_file.write_text("export const theme = 'test';")
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7906103Z     
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7906354Z         # Existing file with different case that will cause collision
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7906730Z         case_collision = test_dir / "NEWNAMETHEME.ts"
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7907096Z         case_collision.write_text("export const theme = 'existing';")
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7907401Z     
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7907622Z         # Debug: List all files before running
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7907931Z         print("\n=== Files before running ===")
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7908226Z         for f in test_dir.iterdir():
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7908471Z             print(f"  {f.name}")
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7908731Z         print("=== End files list ===")
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7908989Z     
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7909194Z         # Run the replacement on the test subdirectory
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7909640Z         run_main_flow_for_test(test_dir, default_map_file, dry_run=False, extensions=[".ts", ".py"])
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7910043Z     
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7910232Z         # Check that collision log was created
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7910568Z         collision_log = test_dir / COLLISIONS_ERRORS_LOG_FILE
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7910997Z         assert collision_log.exists(), "Collision error log file was not created"
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7911360Z     
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7911538Z         # Read and verify log content
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7911856Z         log_content = collision_log.read_text(encoding="utf-8")
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7912162Z     
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7912338Z         # Print log for debugging
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7912708Z         print(f"\n=== Collision Log Content ===\n{log_content}\n=== End Log ===\n")
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7913061Z     
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7913256Z         # Verify exact match collision is logged
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7913663Z         assert "OldnameTheme.ts" in log_content, "OldnameTheme.ts collision not logged"
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7914164Z         assert "OldnameTheme.ts" in log_content, "Target collision file not mentioned"
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7914648Z         assert "exact match" in log_content, "Exact match collision type not specified"
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7914993Z     
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7915286Z         # Verify collision is logged (on case-insensitive filesystems like macOS,
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7916529Z         # OLDNAME_CONFIG.py and oldname_config.py are the same, so it's an exact match)
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7917018Z         assert "oldname_config.py" in log_content, "Case-insensitive source not logged"
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7917479Z         # The collision should be logged with the attempted target name
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7917936Z         assert "oldname_config.py" in log_content, "Collision target not mentioned"
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7918301Z     
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7918499Z         # Verify transaction details are included
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7918816Z         assert "Transaction ID:" in log_content
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7919120Z >       assert "Original Name:" in log_content
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7920680Z E       AssertionError: assert 'Original Name:' in '2025-06-29 16:02:44 - COLLISION (exact match):\n  Source: oldname_config.py\n  Target: N/A\n  Collision with: newname_config.py\n  Transaction ID: f8082aa5-91cd-4cc7-ac86-884195e25945\n--------------------------------------------------------------------------------\n2025-06-29 16:02:44 - COLLISION (exact match):\n  Source: OldnameTheme.ts\n  Target: N/A\n  Collision with: NewnameTheme.ts\n  Transaction ID: 733bb537-c484-43df-86a6-cb7ee9f62529\n--------------------------------------------------------------------------------\n'
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7922227Z 
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7922386Z tests\test_mass_find_replace.py:577: AssertionError
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7922747Z ---------------------------- Captured stdout call -----------------------------
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7923049Z 
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7923145Z === Files before running ===
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7923396Z   NEWNAMETHEME.ts
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7923624Z   newname_config.py
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7923816Z   OldnameTheme.ts
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7924031Z   oldname_config.py
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7924251Z === End files list ===
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7924387Z 
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7924478Z === Collision Log Content ===
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7924761Z 2025-06-29 16:02:44 - COLLISION (exact match):
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7925062Z   Source: oldname_config.py
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7925280Z   Target: N/A
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7925512Z   Collision with: newname_config.py
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7925831Z   Transaction ID: f8082aa5-91cd-4cc7-ac86-884195e25945
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7926174Z --------------------------------------------------------------------------------
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7926540Z 2025-06-29 16:02:44 - COLLISION (exact match):
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7926833Z   Source: OldnameTheme.ts
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7927068Z   Target: N/A
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7927267Z   Collision with: NewnameTheme.ts
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7927573Z   Transaction ID: 733bb537-c484-43df-86a6-cb7ee9f62529
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7927947Z --------------------------------------------------------------------------------
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7928169Z 
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7928249Z === End Log ===
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7928386Z 
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7928535Z ---------------------------- Captured stderr call -----------------------------
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7929034Z 16:02:43.697 | INFO    | Flow run 'hot-kudu' - Beginning flow run 'hot-kudu' for flow 'Mass Find Replace'
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7929847Z 16:02:43.697 | INFO    | Flow run 'hot-kudu' - Scanning 'C:\Users\runneradmin\AppData\Local\Temp\pytest-of-runneradmin\pytest-0\test_collision_error_logging0\runtime\collision_test'...
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7931034Z 16:02:43.713 | INFO    | Flow run 'hot-kudu' - Scan complete. 2 transactions planned in 'C:\Users\runneradmin\AppData\Local\Temp\pytest-of-runneradmin\pytest-0\test_collision_error_logging0\runtime\collision_test\planned_transactions.json'
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7931982Z 16:02:43.713 | INFO    | Flow run 'hot-kudu' - Starting execution phase...
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7932535Z 16:02:44.197 | INFO    | Flow run 'classic-goose' - Beginning subflow run 'classic-goose' for flow 'execute-all-transactions'
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7933626Z 16:02:44.197 | WARNING | Flow run 'hot-kudu' - Collision logged to collisions_errors.log: exact match for C:\Users\runneradmin\AppData\Local\Temp\pytest-of-runneradmin\pytest-0\test_collision_error_logging0\runtime\collision_test\oldname_config.py
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7935149Z 16:02:44.197 | WARNING | Flow run 'hot-kudu' - Collision logged to collisions_errors.log: exact match for C:\Users\runneradmin\AppData\Local\Temp\pytest-of-runneradmin\pytest-0\test_collision_error_logging0\runtime\collision_test\OldnameTheme.ts
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7936252Z 16:02:44.197 | INFO    | Flow run 'hot-kudu' - Execution phase complete. Stats: {'total': 2, 'completed': 0, 'failed': 2, 'skipped': 0, 'retry_later': 0}
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7936864Z 16:02:44.228 | INFO    | Flow run 'classic-goose' - Finished in state Completed()
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7937453Z 16:02:44.228 | INFO    | Flow run 'hot-kudu' - Execution phase complete. Stats: {'total': 2, 'completed': 0, 'failed': 2, 'skipped': 0, 'retry_later': 0}
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7938652Z 16:02:44.228 | INFO    | Flow run 'hot-kudu' - Review 'C:\Users\runneradmin\AppData\Local\Temp\pytest-of-runneradmin\pytest-0\test_collision_error_logging0\runtime\collision_test\planned_transactions.json' for a detailed log of changes and their statuses.
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7940746Z 16:02:44.228 | INFO    | Flow run 'hot-kudu' - [91mWarning: File/folder rename collisions were detected. See 'C:\Users\runneradmin\AppData\Local\Temp\pytest-of-runneradmin\pytest-0\test_collision_error_logging0\runtime\collision_test\collisions_errors.log' for details. These renames were skipped.[0m
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7941835Z 16:02:44.244 | INFO    | Flow run 'hot-kudu' - Finished in state Completed()
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7942249Z ------------------------------ Captured log call ------------------------------
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7942742Z INFO     prefect.flow_runs:flow_engine.py:651 Beginning flow run 'hot-kudu' for flow 'Mass Find Replace'
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7943622Z INFO     prefect.flow_runs:mass_find_replace.py:390 Scanning 'C:\Users\runneradmin\AppData\Local\Temp\pytest-of-runneradmin\pytest-0\test_collision_error_logging0\runtime\collision_test'...
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7944931Z INFO     prefect.flow_runs:mass_find_replace.py:451 Scan complete. 2 transactions planned in 'C:\Users\runneradmin\AppData\Local\Temp\pytest-of-runneradmin\pytest-0\test_collision_error_logging0\runtime\collision_test\planned_transactions.json'
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7945934Z INFO     prefect.flow_runs:mass_find_replace.py:481 Starting execution phase...
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7946544Z INFO     prefect.flow_runs:flow_engine.py:651 Beginning subflow run 'classic-goose' for flow 'execute-all-transactions'
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7947666Z WARNING  prefect.flow_runs:logging_utils.py:38 Collision logged to collisions_errors.log: exact match for C:\Users\runneradmin\AppData\Local\Temp\pytest-of-runneradmin\pytest-0\test_collision_error_logging0\runtime\collision_test\oldname_config.py
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7949165Z WARNING  prefect.flow_runs:logging_utils.py:38 Collision logged to collisions_errors.log: exact match for C:\Users\runneradmin\AppData\Local\Temp\pytest-of-runneradmin\pytest-0\test_collision_error_logging0\runtime\collision_test\OldnameTheme.ts
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7950385Z INFO     prefect.flow_runs:file_system_operations.py:1671 Execution phase complete. Stats: {'total': 2, 'completed': 0, 'failed': 2, 'skipped': 0, 'retry_later': 0}
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7951086Z INFO     prefect.flow_runs:flow_engine.py:724 Finished in state Completed()
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7951733Z INFO     prefect.flow_runs:mass_find_replace.py:494 Execution phase complete. Stats: {'total': 2, 'completed': 0, 'failed': 2, 'skipped': 0, 'retry_later': 0}
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7952962Z INFO     prefect.flow_runs:mass_find_replace.py:495 Review 'C:\Users\runneradmin\AppData\Local\Temp\pytest-of-runneradmin\pytest-0\test_collision_error_logging0\runtime\collision_test\planned_transactions.json' for a detailed log of changes and their statuses.
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:56.7954852Z INFO     prefect.flow_runs:mass_find_replace.py:503 [91mWarning: File/folder rename collisions were detected. See 'C:\Users\runneradmin\AppData\Local\Temp\pytest-of-runneradmin\pytest-0\test_collision_error_logging0\runtime\collision_test\collisions_errors.log' for details. These renames were skipped.[0m
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6082798Z INFO     prefect.flow_runs:flow_engine.py:724 Finished in state Completed()
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6083514Z =============================== tests coverage ================================
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6084060Z ______________ coverage: platform win32, python 3.12.11-final-0 _______________
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6084410Z 
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6084608Z Name                                              Stmts   Miss  Cover
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6085056Z ---------------------------------------------------------------------
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6085596Z src\mass_find_replace\__init__.py                     6      0   100%
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6086524Z src\mass_find_replace\cli\__init__.py                 0      0   100%
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6087093Z src\mass_find_replace\core\__init__.py                4      0   100%
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6087651Z src\mass_find_replace\core\constants.py              27      0   100%
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6088234Z src\mass_find_replace\core\exceptions.py              4      0   100%
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6088806Z src\mass_find_replace\core\types.py                  16      0   100%
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6089386Z src\mass_find_replace\file_system_operations.py     755    226    70%
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6089941Z src\mass_find_replace\mass_find_replace.py          425    157    63%
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6090517Z src\mass_find_replace\replace_logic.py              191     61    68%
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6091271Z src\mass_find_replace\scanning\__init__.py            0      0   100%
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6092040Z src\mass_find_replace\test_config.py                 40     40     0%
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6092640Z src\mass_find_replace\transactions\__init__.py        0      0   100%
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6093217Z src\mass_find_replace\utils\__init__.py               5      0   100%
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6093740Z src\mass_find_replace\utils\file_encoding.py         93     26    72%
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6094188Z src\mass_find_replace\utils\file_locking.py          41     12    71%
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6094660Z src\mass_find_replace\utils\json_handlers.py         38      5    87%
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6095138Z src\mass_find_replace\utils\logging_utils.py         36      6    83%
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6095541Z ---------------------------------------------------------------------
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6095919Z TOTAL                                              1681    533    68%
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6096274Z Coverage XML written to file coverage.xml
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6096645Z =========================== short test summary info ===========================
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6098750Z FAILED tests/test_mass_find_replace.py::test_collision_error_logging - AssertionError: assert 'Original Name:' in '2025-06-29 16:02:44 - COLLISION (exact match):\n  Source: oldname_config.py\n  Target: N/A\n  Collision with: newname_config.py\n  Transaction ID: f8082aa5-91cd-4cc7-ac86-884195e25945\n--------------------------------------------------------------------------------\n2025-06-29 16:02:44 - COLLISION (exact match):\n  Source: OldnameTheme.ts\n  Target: N/A\n  Collision with: NewnameTheme.ts\n  Transaction ID: 733bb537-c484-43df-86a6-cb7ee9f62529\n--------------------------------------------------------------------------------\n'
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6100925Z ============ 1 failed, 103 passed, 7 skipped in 144.95s (0:02:24) =============
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6101418Z --- Logging error ---
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6102428Z Traceback (most recent call last):
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6111638Z   File "D:\a\MFR\MFR\.venv\Lib\site-packages\prefect\logging\handlers.py", line 337, in emit
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6112219Z     self.console.print(message, soft_wrap=True)
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6112718Z   File "D:\a\MFR\MFR\.venv\Lib\site-packages\rich\console.py", line 1692, in print
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6113115Z     with self:
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6113539Z          ^^^^
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6113928Z   File "D:\a\MFR\MFR\.venv\Lib\site-packages\rich\console.py", line 866, in __exit__
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6114337Z     self._exit_buffer()
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6114724Z   File "D:\a\MFR\MFR\.venv\Lib\site-packages\rich\console.py", line 824, in _exit_buffer
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6115189Z     self._check_buffer()
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6115877Z   File "D:\a\MFR\MFR\.venv\Lib\site-packages\rich\console.py", line 2033, in _check_buffer
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6116549Z     self._write_buffer()
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6117165Z   File "D:\a\MFR\MFR\.venv\Lib\site-packages\rich\console.py", line 2081, in _write_buffer
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6117789Z     write(text)
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6118178Z ValueError: I/O operation on closed file.
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6118661Z Call stack:
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6119735Z   File "D:\a\MFR\MFR\.venv\Lib\site-packages\prefect\server\api\server.py", line 917, in stop
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6121039Z     subprocess_server_logger.info(
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6122564Z   File "C:\Users\runneradmin\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\logging\__init__.py", line 1539, in info
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6123551Z     self._log(INFO, msg, args, **kwargs)
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6124510Z   File "C:\Users\runneradmin\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\logging\__init__.py", line 1684, in _log
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6126078Z     self.handle(record)
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6127016Z   File "C:\Users\runneradmin\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\logging\__init__.py", line 1700, in handle
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6128025Z     self.callHandlers(record)
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6128999Z   File "C:\Users\runneradmin\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\logging\__init__.py", line 1762, in callHandlers
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6130004Z     hdlr.handle(record)
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6130958Z   File "C:\Users\runneradmin\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\logging\__init__.py", line 1028, in handle
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6131900Z     self.emit(record)
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6132475Z   File "D:\a\MFR\MFR\.venv\Lib\site-packages\prefect\logging\handlers.py", line 343, in emit
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6133190Z     self.handleError(record)
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6133777Z Message: 'Stopping temporary server on http://127.0.0.1:8767'
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:57.6134371Z Arguments: ()
Test Python 3.12 on windows-latest	Run tests with coverage	2025-06-29T16:02:58.6204889Z ##[error]Process completed with exit code 1.
Test Python 3.11 on windows-latest	Run tests with coverage	ï»¿2025-06-29T16:00:32.9058030Z ##[group]Run uv run pytest tests/ -v --cov=src/mass_find_replace --cov-report=xml --cov-report=term
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:00:32.9058752Z [36;1muv run pytest tests/ -v --cov=src/mass_find_replace --cov-report=xml --cov-report=term[0m
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:00:32.9109925Z shell: C:\Program Files\PowerShell\7\pwsh.EXE -command ". '{0}'"
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:00:32.9110226Z env:
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:00:32.9110379Z   UV_VERSION: 0.7.13
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:00:32.9110558Z   DEFAULT_PYTHON: 3.11
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:00:32.9110734Z   GIT_AUTHOR_NAME: Emasoft
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:00:32.9110982Z   GIT_AUTHOR_EMAIL: 713559+Emasoft@users.noreply.github.com
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:00:32.9111261Z   GIT_COMMITTER_NAME: Emasoft
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:00:32.9111517Z   GIT_COMMITTER_EMAIL: 713559+Emasoft@users.noreply.github.com
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:00:32.9111817Z   UV_TOOL_BIN_DIR: D:\a\_temp\uv-tool-bin-dir
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:00:32.9112194Z   UV_TOOL_DIR: D:\a\_temp\uv-tool-dir
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:00:32.9112426Z   UV_CACHE_DIR: D:\a\_temp\setup-uv-cache
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:00:32.9112642Z ##[endgroup]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:00:34.6930786Z ============================= test session starts =============================
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:00:34.6931444Z platform win32 -- Python 3.11.13, pytest-8.4.1, pluggy-1.6.0 -- D:\a\MFR\MFR\.venv\Scripts\python.exe
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:00:34.6931967Z cachedir: .pytest_cache
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:00:34.6932198Z rootdir: D:\a\MFR\MFR
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:00:34.6932442Z configfile: pyproject.toml
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:00:34.6932703Z plugins: anyio-4.9.0, cov-6.2.1
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:00:40.3059966Z collecting ... collected 111 items
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:00:40.3060305Z 
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:00:40.3708599Z tests/test_additional_coverage.py::TestFileSystemOperations::test_scan_with_symlinks SKIPPED [  0%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:00:40.4347564Z tests/test_additional_coverage.py::TestFileSystemOperations::test_scan_with_gitignore PASSED [  1%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:00:40.4988488Z tests/test_additional_coverage.py::TestFileSystemOperations::test_process_large_file_with_encoding_error PASSED [  2%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:06.8232771Z tests/test_additional_coverage.py::TestFileSystemOperations::test_execute_transaction_os_errors PASSED [  3%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:07.2863725Z tests/test_additional_coverage.py::TestFileSystemOperations::test_file_locking_error PASSED [  4%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:07.4641805Z tests/test_additional_coverage.py::TestFileSystemOperations::test_rtf_file_processing PASSED [  5%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:07.6403311Z tests/test_additional_coverage.py::TestFileSystemOperations::test_binary_file_detection_edge_cases PASSED [  6%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:07.8226833Z tests/test_additional_coverage.py::TestFileSystemOperations::test_save_transactions_with_backup PASSED [  7%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:08.0021574Z tests/test_additional_coverage.py::TestFileSystemOperations::test_load_transactions_invalid_json PASSED [  8%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:08.1843326Z tests/test_additional_coverage.py::TestFileSystemOperations::test_folder_with_special_chars PASSED [  9%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:08.3663407Z tests/test_additional_coverage.py::TestReplaceLogicEdgeCases::test_replace_with_unicode PASSED [  9%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:08.5446201Z tests/test_additional_coverage.py::TestReplaceLogicEdgeCases::test_case_sensitive_replacements PASSED [ 10%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:08.7183749Z tests/test_additional_coverage.py::TestReplaceLogicEdgeCases::test_overlapping_replacements PASSED [ 11%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:09.7022709Z tests/test_additional_coverage.py::TestMainFlowEdgeCases::test_main_flow_with_modified_files_detection PASSED [ 12%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:09.7038041Z tests/test_additional_coverage.py::TestMainFlowEdgeCases::test_main_flow_keyboard_interrupt SKIPPED [ 13%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:10.2252527Z tests/test_additional_coverage.py::TestMainFlowEdgeCases::test_main_flow_with_all_skip_flags PASSED [ 14%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:10.4017183Z tests/test_additional_coverage.py::TestUtilityFunctions::test_get_exclude_patterns PASSED [ 15%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:10.5799561Z tests/test_additional_coverage.py::TestUtilityFunctions::test_update_transaction_status_edge_cases PASSED [ 16%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:10.7681264Z tests/test_additional_coverage.py::TestUtilityFunctions::test_open_file_with_encoding_edge_cases PASSED [ 17%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:10.9550238Z tests/test_additional_coverage.py::TestUtilityFunctions::test_group_and_process_file_transactions_edge_cases PASSED [ 18%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:11.1329693Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_help PASSED [ 18%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:11.3104114Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_self_test PASSED [ 19%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:11.4912286Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_self_test_failure PASSED [ 20%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:11.6702559Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_force_interactive_conflict PASSED [ 21%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:11.8492259Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_invalid_directory PASSED [ 22%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:12.0302356Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_not_directory PASSED [ 23%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:12.2103700Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_invalid_mapping_file PASSED [ 24%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:12.3953082Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_invalid_json PASSED [ 25%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:12.5753890Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_empty_mapping PASSED [ 26%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:12.7556940Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_invalid_ignore_file PASSED [ 27%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:12.9282167Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_timeout_validation PASSED [ 27%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:13.1202958Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_successful_run PASSED [ 28%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:13.2990546Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_with_failures PASSED [ 29%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:13.9121631Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_skip_scan_no_file PASSED [ 30%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:15.0015675Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_resume_no_file PASSED [ 31%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:15.4686952Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_empty_transaction_file PASSED [ 32%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:15.9338604Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_with_dry_run_reset PASSED [ 33%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:16.7389180Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_interactive_mode PASSED [ 34%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:17.5603196Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_quiet_mode PASSED [ 35%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:18.4307984Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_verbose_mode PASSED [ 36%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:18.9021797Z tests/test_coverage_improvements.py::TestExecuteTransactions::test_interactive_mode_skip PASSED [ 36%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:19.6319259Z tests/test_coverage_improvements.py::TestExecuteTransactions::test_interactive_mode_apply_all PASSED [ 37%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:20.1092515Z tests/test_coverage_improvements.py::TestExecuteTransactions::test_transaction_with_high_retry_count PASSED [ 38%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:20.2880369Z tests/test_coverage_improvements.py::TestHelperFunctions::test_get_logger_without_prefect PASSED [ 39%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:20.4639945Z tests/test_coverage_improvements.py::TestHelperFunctions::test_get_logger_with_context_error PASSED [ 40%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:20.6384854Z tests/test_coverage_improvements.py::TestHelperFunctions::test_print_mapping_table PASSED [ 41%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:20.8171634Z tests/test_coverage_improvements.py::TestHelperFunctions::test_get_operation_description PASSED [ 42%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:20.9977484Z tests/test_coverage_improvements.py::TestHelperFunctions::test_check_existing_transactions PASSED [ 43%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:21.2150931Z tests/test_coverage_improvements.py::TestHelperFunctions::test_run_subprocess_command PASSED [ 44%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:21.3887486Z tests/test_coverage_improvements.py::TestColorOutput::test_color_constants PASSED [ 45%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:21.5658578Z tests/test_coverage_improvements.py::TestReplaceLogic::test_validate_mapping_structure PASSED [ 45%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:21.7491664Z tests/test_coverage_improvements.py::TestFileOperations::test_get_file_encoding PASSED [ 46%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:21.9322465Z tests/test_coverage_improvements.py::TestFileOperations::test_is_binary_file PASSED [ 47%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:22.1137504Z tests/test_coverage_improvements.py::TestFileOperations::test_transaction_status_update PASSED [ 48%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:22.2911569Z tests/test_coverage_improvements.py::TestFileOperations::test_load_ignore_patterns PASSED [ 49%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:22.7658603Z tests/test_coverage_improvements.py::TestFileOperations::test_folder_rename_collision PASSED [ 50%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:23.5868049Z tests/test_final_coverage.py::TestPrefectIntegration::test_main_flow_with_prefect PASSED [ 51%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:23.7736414Z tests/test_final_coverage.py::TestPrefectIntegration::test_subprocess_flush_handlers PASSED [ 52%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:23.9676657Z tests/test_final_coverage.py::TestPrefectIntegration::test_subprocess_without_flush PASSED [ 53%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:24.1500422Z tests/test_final_coverage.py::TestMainCLIEdgeCases::test_main_cli_exception_handling PASSED [ 54%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:24.3300137Z tests/test_final_coverage.py::TestMainCLIEdgeCases::test_main_cli_json_key_error PASSED [ 54%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:24.5112475Z tests/test_final_coverage.py::TestMainCLIEdgeCases::test_main_cli_cyclic_mapping PASSED [ 55%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:24.6910200Z tests/test_final_coverage.py::TestMainCLIEdgeCases::test_main_cli_user_confirmation_no PASSED [ 56%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:24.8686955Z tests/test_final_coverage.py::TestMainCLIEdgeCases::test_main_cli_timeout_zero PASSED [ 57%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:25.0482025Z tests/test_final_coverage.py::TestCheckExistingTransactions::test_all_transactions_completed PASSED [ 58%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:25.2272830Z tests/test_final_coverage.py::TestCheckExistingTransactions::test_no_transactions PASSED [ 59%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:25.4057030Z tests/test_final_coverage.py::TestTransactionProcessing::test_symlink_rename_dry_run SKIPPED [ 60%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:26.8778962Z tests/test_final_coverage.py::TestTransactionProcessing::test_file_rename_permission_error PASSED [ 61%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:27.3447080Z tests/test_final_coverage.py::TestTransactionProcessing::test_content_change_with_no_changes PASSED [ 62%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:27.5248508Z tests/test_final_coverage.py::TestLoggerFunctions::test_log_message_functions PASSED [ 63%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:27.7053207Z tests/test_final_coverage.py::TestLoggerFunctions::test_replace_logic_functions PASSED [ 63%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:27.8743492Z tests/test_final_coverage.py::TestStringProcessing::test_canonicalize_edge_cases PASSED [ 64%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:28.0463588Z tests/test_final_coverage.py::TestStringProcessing::test_strip_functions PASSED [ 65%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:28.2329112Z tests/test_final_coverage.py::TestEncodingDetection::test_encoding_detection_edge_cases PASSED [ 66%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:28.4087329Z tests/test_final_coverage.py::TestRTFProcessing::test_rtf_to_text_edge_cases PASSED [ 67%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:28.5772626Z tests/test_final_coverage.py::TestFileOperationHelpers::test_transaction_type_enum PASSED [ 68%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:28.7511181Z tests/test_final_coverage.py::TestFileOperationHelpers::test_transaction_status_enum PASSED [ 69%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:28.9271588Z tests/test_final_coverage.py::TestScanEdgeCases::test_scan_with_permission_error PASSED [ 70%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:29.7490439Z tests/test_github_integration.py::TestGitHubIntegration::test_clone_and_setup_public_repo PASSED [ 71%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:47.7232541Z tests/test_github_integration.py::TestGitHubIntegration::test_build_mfr_in_container PASSED [ 72%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:52.7611910Z tests/test_github_integration.py::TestGitHubIntegration::test_mfr_on_cloned_repo SKIPPED [ 72%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:52.7628351Z tests/test_github_integration.py::TestGitHubIntegration::test_github_cli_operations SKIPPED [ 73%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:53.5915184Z tests/test_mass_find_replace.py::test_dry_run_behavior PASSED            [ 74%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:54.4138203Z tests/test_mass_find_replace.py::test_dry_run_virtual_paths PASSED       [ 75%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:55.4680333Z tests/test_mass_find_replace.py::test_path_resolution_after_rename PASSED [ 76%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:56.3002775Z tests/test_mass_find_replace.py::test_folder_nesting PASSED              [ 77%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:57.1176863Z tests/test_mass_find_replace.py::test_unicode_combining_chars PASSED     [ 78%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:58.9646193Z tests/test_mass_find_replace.py::test_permission_error_handling PASSED   [ 79%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:59.1475853Z tests/test_mass_find_replace.py::test_self_test_option PASSED            [ 80%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:01:59.9710802Z tests/test_mass_find_replace.py::test_symlink_name_processing PASSED     [ 81%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:01.1523434Z tests/test_mass_find_replace.py::test_extension_filtering PASSED         [ 81%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:01.9689953Z tests/test_mass_find_replace.py::test_rtf_processing PASSED              [ 82%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:02.7906378Z tests/test_mass_find_replace.py::test_binary_files_logging PASSED        [ 83%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:03.6725398Z tests/test_mass_find_replace.py::test_recursive_path_resolution PASSED   [ 84%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:10.1354663Z tests/test_mass_find_replace.py::test_gb18030_encoding PASSED            [ 85%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:11.7520346Z tests/test_mass_find_replace.py::test_collision_error_logging FAILED     [ 86%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:12.5924749Z tests/test_mass_find_replace.py::test_interactive_mode_collision_skip PASSED [ 87%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:13.0762192Z tests/test_mass_find_replace.py::test_malformed_json_handling PASSED     [ 88%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:13.9333008Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_trailing_spaces PASSED [ 89%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:14.7631960Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_line_endings PASSED [ 90%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:15.5980758Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_encoding_errors PASSED [ 90%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:16.5795414Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_different_encodings PASSED [ 91%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:17.4280773Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_null_bytes PASSED [ 92%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:18.2596978Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_corrupt_test_files PASSED [ 93%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:19.1692650Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_very_long_lines PASSED [ 94%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:19.9825384Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_unicode_edge_cases PASSED [ 95%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:21.2216875Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_empty_files_and_edge_cases PASSED [ 96%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:22.0432671Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_concurrent_patterns PASSED [ 97%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:22.2242576Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_file_permissions_preserved SKIPPED [ 98%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:22.4109100Z tests/test_surgical_replacements.py::TestErrorHandling::test_handles_read_only_files SKIPPED [ 99%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5613261Z tests/test_surgical_replacements.py::TestErrorHandling::test_handles_files_with_no_newline_at_end PASSED [100%]
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5613891Z 
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5614059Z ================================== FAILURES ===================================
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5614613Z ________________________ test_collision_error_logging _________________________
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5614986Z 
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5616296Z temp_test_dir = {'config': WindowsPath('C:/Users/runneradmin/AppData/Local/Temp/pytest-of-runneradmin/pytest-0/test_collision_error_lo...wsPath('C:/Users/runneradmin/AppData/Local/Temp/pytest-of-runneradmin/pytest-0/test_collision_error_logging0/runtime')}
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5618842Z default_map_file = WindowsPath('C:/Users/runneradmin/AppData/Local/Temp/pytest-of-runneradmin/pytest-0/test_collision_error_logging0/config/replacement_mapping.json')
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5619753Z 
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5620025Z     def test_collision_error_logging(temp_test_dir: dict[str, Path], default_map_file: Path) -> None:
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5620502Z         """Test that collision errors are properly logged"""
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5620853Z         # Use a fresh directory to avoid conflicts with fixture files
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5621187Z         test_dir = temp_test_dir["runtime"] / "collision_test"
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5621453Z         test_dir.mkdir()
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5621631Z     
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5621840Z         # Test 1: File that will rename to collide with existing file
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5622214Z         # This file will be renamed from oldname_config.py to newname_config.py
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5623210Z         source_file = test_dir / "oldname_config.py"
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5623498Z         source_file.write_text("# Config file")
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5623719Z     
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5623893Z         # Existing file that will cause collision
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5624171Z         exact_collision = test_dir / "newname_config.py"
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5624461Z         exact_collision.write_text("# Existing config")
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5624703Z     
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5624927Z         # Test 2: File with different case that will collide after rename
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5625268Z         # OldnameTheme.ts will be renamed to NewnameTheme.ts
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5625575Z         case_test_file = test_dir / "OldnameTheme.ts"
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5625891Z         case_test_file.write_text("export const theme = 'test';")
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5626161Z     
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5626373Z         # Existing file with different case that will cause collision
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5626748Z         case_collision = test_dir / "NEWNAMETHEME.ts"
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5627084Z         case_collision.write_text("export const theme = 'existing';")
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5627375Z     
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5627535Z         # Debug: List all files before running
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5627793Z         print("\n=== Files before running ===")
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5628040Z         for f in test_dir.iterdir():
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5628256Z             print(f"  {f.name}")
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5628472Z         print("=== End files list ===")
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5628689Z     
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5628873Z         # Run the replacement on the test subdirectory
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5629266Z         run_main_flow_for_test(test_dir, default_map_file, dry_run=False, extensions=[".ts", ".py"])
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5629635Z     
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5629804Z         # Check that collision log was created
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5630087Z         collision_log = test_dir / COLLISIONS_ERRORS_LOG_FILE
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5630476Z         assert collision_log.exists(), "Collision error log file was not created"
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5630803Z     
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5630948Z         # Read and verify log content
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5631237Z         log_content = collision_log.read_text(encoding="utf-8")
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5631503Z     
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5631657Z         # Print log for debugging
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5631965Z         print(f"\n=== Collision Log Content ===\n{log_content}\n=== End Log ===\n")
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5632275Z     
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5632444Z         # Verify exact match collision is logged
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5632804Z         assert "OldnameTheme.ts" in log_content, "OldnameTheme.ts collision not logged"
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5633272Z         assert "OldnameTheme.ts" in log_content, "Target collision file not mentioned"
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5633719Z         assert "exact match" in log_content, "Exact match collision type not specified"
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5634041Z     
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5634278Z         # Verify collision is logged (on case-insensitive filesystems like macOS,
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5636075Z         # OLDNAME_CONFIG.py and oldname_config.py are the same, so it's an exact match)
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5636825Z         assert "oldname_config.py" in log_content, "Case-insensitive source not logged"
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5637514Z         # The collision should be logged with the attempted target name
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5638205Z         assert "oldname_config.py" in log_content, "Collision target not mentioned"
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5638744Z     
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5639011Z         # Verify transaction details are included
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5639449Z         assert "Transaction ID:" in log_content
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5639737Z >       assert "Original Name:" in log_content
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5641330Z E       AssertionError: assert 'Original Name:' in '2025-06-29 16:02:10 - COLLISION (exact match):\n  Source: oldname_config.py\n  Target: N/A\n  Collision with: newname_config.py\n  Transaction ID: ab317b5d-daf4-4be3-ac27-a0580b5e2c87\n--------------------------------------------------------------------------------\n2025-06-29 16:02:10 - COLLISION (exact match):\n  Source: OldnameTheme.ts\n  Target: N/A\n  Collision with: NewnameTheme.ts\n  Transaction ID: cf489a04-809b-4daa-bc2b-8b66ac3141c1\n--------------------------------------------------------------------------------\n'
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5643328Z 
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5643464Z tests\test_mass_find_replace.py:577: AssertionError
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5643813Z ---------------------------- Captured stdout call -----------------------------
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5644101Z 
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5644180Z === Files before running ===
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5644383Z   NEWNAMETHEME.ts
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5644563Z   newname_config.py
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5644729Z   OldnameTheme.ts
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5644898Z   oldname_config.py
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5645067Z === End files list ===
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5645186Z 
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5645260Z === Collision Log Content ===
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5645496Z 2025-06-29 16:02:10 - COLLISION (exact match):
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5645753Z   Source: oldname_config.py
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5645939Z   Target: N/A
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5646116Z   Collision with: newname_config.py
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5646389Z   Transaction ID: ab317b5d-daf4-4be3-ac27-a0580b5e2c87
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5646722Z --------------------------------------------------------------------------------
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5647024Z 2025-06-29 16:02:10 - COLLISION (exact match):
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5647273Z   Source: OldnameTheme.ts
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5647460Z   Target: N/A
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5647627Z   Collision with: NewnameTheme.ts
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5647892Z   Transaction ID: cf489a04-809b-4daa-bc2b-8b66ac3141c1
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5648217Z --------------------------------------------------------------------------------
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5648430Z 
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5648495Z === End Log ===
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5648606Z 
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5648745Z ---------------------------- Captured stderr call -----------------------------
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5649247Z 16:02:10.390 | INFO    | Flow run 'augmented-tench' - Beginning flow run 'augmented-tench' for flow 'Mass Find Replace'
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5650103Z 16:02:10.406 | INFO    | Flow run 'augmented-tench' - Scanning 'C:\Users\runneradmin\AppData\Local\Temp\pytest-of-runneradmin\pytest-0\test_collision_error_logging0\runtime\collision_test'...
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5651350Z 16:02:10.406 | INFO    | Flow run 'augmented-tench' - Scan complete. 2 transactions planned in 'C:\Users\runneradmin\AppData\Local\Temp\pytest-of-runneradmin\pytest-0\test_collision_error_logging0\runtime\collision_test\planned_transactions.json'
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5652280Z 16:02:10.406 | INFO    | Flow run 'augmented-tench' - Starting execution phase...
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5652831Z 16:02:10.813 | INFO    | Flow run 'proud-scorpion' - Beginning subflow run 'proud-scorpion' for flow 'execute-all-transactions'
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5653922Z 16:02:10.813 | WARNING | Flow run 'augmented-tench' - Collision logged to collisions_errors.log: exact match for C:\Users\runneradmin\AppData\Local\Temp\pytest-of-runneradmin\pytest-0\test_collision_error_logging0\runtime\collision_test\oldname_config.py
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5655517Z 16:02:10.813 | WARNING | Flow run 'augmented-tench' - Collision logged to collisions_errors.log: exact match for C:\Users\runneradmin\AppData\Local\Temp\pytest-of-runneradmin\pytest-0\test_collision_error_logging0\runtime\collision_test\OldnameTheme.ts
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5656657Z 16:02:10.813 | INFO    | Flow run 'augmented-tench' - Execution phase complete. Stats: {'total': 2, 'completed': 0, 'failed': 2, 'skipped': 0, 'retry_later': 0}
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5657259Z 16:02:10.844 | INFO    | Flow run 'proud-scorpion' - Finished in state Completed()
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5657860Z 16:02:10.844 | INFO    | Flow run 'augmented-tench' - Execution phase complete. Stats: {'total': 2, 'completed': 0, 'failed': 2, 'skipped': 0, 'retry_later': 0}
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5659334Z 16:02:10.844 | INFO    | Flow run 'augmented-tench' - Review 'C:\Users\runneradmin\AppData\Local\Temp\pytest-of-runneradmin\pytest-0\test_collision_error_logging0\runtime\collision_test\planned_transactions.json' for a detailed log of changes and their statuses.
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5661399Z 16:02:10.844 | INFO    | Flow run 'augmented-tench' - [91mWarning: File/folder rename collisions were detected. See 'C:\Users\runneradmin\AppData\Local\Temp\pytest-of-runneradmin\pytest-0\test_collision_error_logging0\runtime\collision_test\collisions_errors.log' for details. These renames were skipped.[0m
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5662515Z 16:02:10.859 | INFO    | Flow run 'augmented-tench' - Finished in state Completed()
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5662900Z ------------------------------ Captured log call ------------------------------
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5663392Z INFO     prefect.flow_runs:flow_engine.py:651 Beginning flow run 'augmented-tench' for flow 'Mass Find Replace'
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5664272Z INFO     prefect.flow_runs:mass_find_replace.py:390 Scanning 'C:\Users\runneradmin\AppData\Local\Temp\pytest-of-runneradmin\pytest-0\test_collision_error_logging0\runtime\collision_test'...
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5665580Z INFO     prefect.flow_runs:mass_find_replace.py:451 Scan complete. 2 transactions planned in 'C:\Users\runneradmin\AppData\Local\Temp\pytest-of-runneradmin\pytest-0\test_collision_error_logging0\runtime\collision_test\planned_transactions.json'
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5666531Z INFO     prefect.flow_runs:mass_find_replace.py:481 Starting execution phase...
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5667095Z INFO     prefect.flow_runs:flow_engine.py:651 Beginning subflow run 'proud-scorpion' for flow 'execute-all-transactions'
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5668217Z WARNING  prefect.flow_runs:logging_utils.py:38 Collision logged to collisions_errors.log: exact match for C:\Users\runneradmin\AppData\Local\Temp\pytest-of-runneradmin\pytest-0\test_collision_error_logging0\runtime\collision_test\oldname_config.py
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5669714Z WARNING  prefect.flow_runs:logging_utils.py:38 Collision logged to collisions_errors.log: exact match for C:\Users\runneradmin\AppData\Local\Temp\pytest-of-runneradmin\pytest-0\test_collision_error_logging0\runtime\collision_test\OldnameTheme.ts
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5670919Z INFO     prefect.flow_runs:file_system_operations.py:1671 Execution phase complete. Stats: {'total': 2, 'completed': 0, 'failed': 2, 'skipped': 0, 'retry_later': 0}
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5671584Z INFO     prefect.flow_runs:flow_engine.py:724 Finished in state Completed()
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5672211Z INFO     prefect.flow_runs:mass_find_replace.py:494 Execution phase complete. Stats: {'total': 2, 'completed': 0, 'failed': 2, 'skipped': 0, 'retry_later': 0}
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5673427Z INFO     prefect.flow_runs:mass_find_replace.py:495 Review 'C:\Users\runneradmin\AppData\Local\Temp\pytest-of-runneradmin\pytest-0\test_collision_error_logging0\runtime\collision_test\planned_transactions.json' for a detailed log of changes and their statuses.
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:23.5675323Z INFO     prefect.flow_runs:mass_find_replace.py:503 [91mWarning: File/folder rename collisions were detected. See 'C:\Users\runneradmin\AppData\Local\Temp\pytest-of-runneradmin\pytest-0\test_collision_error_logging0\runtime\collision_test\collisions_errors.log' for details. These renames were skipped.[0m
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4771846Z INFO     prefect.flow_runs:flow_engine.py:724 Finished in state Completed()
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4772381Z =============================== tests coverage ================================
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4772780Z ______________ coverage: platform win32, python 3.11.13-final-0 _______________
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4773071Z 
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4773205Z Name                                              Stmts   Miss  Cover
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4773539Z ---------------------------------------------------------------------
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4774853Z src\mass_find_replace\__init__.py                     6      0   100%
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4775268Z src\mass_find_replace\cli\__init__.py                 0      0   100%
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4775694Z src\mass_find_replace\core\__init__.py                4      0   100%
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4776101Z src\mass_find_replace\core\constants.py              27      0   100%
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4776504Z src\mass_find_replace\core\exceptions.py              4      0   100%
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4776909Z src\mass_find_replace\core\types.py                  16      0   100%
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4777318Z src\mass_find_replace\file_system_operations.py     755    226    70%
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4777733Z src\mass_find_replace\mass_find_replace.py          425    157    63%
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4778253Z src\mass_find_replace\replace_logic.py              191     61    68%
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4778978Z src\mass_find_replace\scanning\__init__.py            0      0   100%
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4779718Z src\mass_find_replace\test_config.py                 40     40     0%
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4780518Z src\mass_find_replace\transactions\__init__.py        0      0   100%
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4781188Z src\mass_find_replace\utils\__init__.py               5      0   100%
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4781790Z src\mass_find_replace\utils\file_encoding.py         93     26    72%
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4782434Z src\mass_find_replace\utils\file_locking.py          41     12    71%
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4783027Z src\mass_find_replace\utils\json_handlers.py         38      5    87%
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4783665Z src\mass_find_replace\utils\logging_utils.py         36      6    83%
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4784253Z ---------------------------------------------------------------------
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4784759Z TOTAL                                              1681    533    68%
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4785231Z Coverage XML written to file coverage.xml
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4785722Z =========================== short test summary info ===========================
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4788947Z FAILED tests/test_mass_find_replace.py::test_collision_error_logging - AssertionError: assert 'Original Name:' in '2025-06-29 16:02:10 - COLLISION (exact match):\n  Source: oldname_config.py\n  Target: N/A\n  Collision with: newname_config.py\n  Transaction ID: ab317b5d-daf4-4be3-ac27-a0580b5e2c87\n--------------------------------------------------------------------------------\n2025-06-29 16:02:10 - COLLISION (exact match):\n  Source: OldnameTheme.ts\n  Target: N/A\n  Collision with: NewnameTheme.ts\n  Transaction ID: cf489a04-809b-4daa-bc2b-8b66ac3141c1\n--------------------------------------------------------------------------------\n'
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4791972Z ============ 1 failed, 103 passed, 7 skipped in 108.88s (0:01:48) =============
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4792541Z --- Logging error ---
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4792883Z Traceback (most recent call last):
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4802730Z   File "D:\a\MFR\MFR\.venv\Lib\site-packages\prefect\logging\handlers.py", line 337, in emit
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4803535Z     self.console.print(message, soft_wrap=True)
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4804226Z   File "D:\a\MFR\MFR\.venv\Lib\site-packages\rich\console.py", line 1692, in print
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4805038Z     with self:
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4805581Z   File "D:\a\MFR\MFR\.venv\Lib\site-packages\rich\console.py", line 866, in __exit__
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4806200Z     self._exit_buffer()
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4806746Z   File "D:\a\MFR\MFR\.venv\Lib\site-packages\rich\console.py", line 824, in _exit_buffer
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4807306Z     self._check_buffer()
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4807827Z   File "D:\a\MFR\MFR\.venv\Lib\site-packages\rich\console.py", line 2033, in _check_buffer
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4808395Z     self._write_buffer()
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4808913Z   File "D:\a\MFR\MFR\.venv\Lib\site-packages\rich\console.py", line 2081, in _write_buffer
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4809444Z     write(text)
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4810066Z ValueError: I/O operation on closed file.
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4811632Z Call stack:
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4812212Z   File "D:\a\MFR\MFR\.venv\Lib\site-packages\prefect\server\api\server.py", line 917, in stop
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4812901Z     subprocess_server_logger.info(
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4813772Z   File "C:\Users\runneradmin\AppData\Roaming\uv\python\cpython-3.11.13-windows-x86_64-none\Lib\logging\__init__.py", line 1489, in info
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4814600Z     self._log(INFO, msg, args, **kwargs)
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4815446Z   File "C:\Users\runneradmin\AppData\Roaming\uv\python\cpython-3.11.13-windows-x86_64-none\Lib\logging\__init__.py", line 1634, in _log
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4816248Z     self.handle(record)
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4817037Z   File "C:\Users\runneradmin\AppData\Roaming\uv\python\cpython-3.11.13-windows-x86_64-none\Lib\logging\__init__.py", line 1644, in handle
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4817859Z     self.callHandlers(record)
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4818764Z   File "C:\Users\runneradmin\AppData\Roaming\uv\python\cpython-3.11.13-windows-x86_64-none\Lib\logging\__init__.py", line 1706, in callHandlers
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4819761Z     hdlr.handle(record)
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4820617Z   File "C:\Users\runneradmin\AppData\Roaming\uv\python\cpython-3.11.13-windows-x86_64-none\Lib\logging\__init__.py", line 978, in handle
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4821479Z     self.emit(record)
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4822224Z   File "D:\a\MFR\MFR\.venv\Lib\site-packages\prefect\logging\handlers.py", line 343, in emit
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4822883Z     self.handleError(record)
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4823408Z Message: 'Stopping temporary server on http://127.0.0.1:8151'
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:24.4823913Z Arguments: ()
Test Python 3.11 on windows-latest	Run tests with coverage	2025-06-29T16:02:25.4394697Z ##[error]Process completed with exit code 1.
Test Python 3.12 on macos-latest	Run tests with coverage	ï»¿2025-06-29T16:01:10.4243780Z ##[group]Run uv run pytest tests/ -v --cov=src/mass_find_replace --cov-report=xml --cov-report=term
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:10.4244360Z [36;1muv run pytest tests/ -v --cov=src/mass_find_replace --cov-report=xml --cov-report=term[0m
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:10.4301270Z shell: /bin/bash -e {0}
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:10.4301420Z env:
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:10.4301520Z   UV_VERSION: 0.7.13
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:10.4301650Z   DEFAULT_PYTHON: 3.11
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:10.4301930Z   GIT_AUTHOR_NAME: Emasoft
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:10.4302180Z   GIT_AUTHOR_EMAIL: 713559+Emasoft@users.noreply.github.com
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:10.4302460Z   GIT_COMMITTER_NAME: Emasoft
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:10.4302690Z   GIT_COMMITTER_EMAIL: 713559+Emasoft@users.noreply.github.com
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:10.4302970Z   UV_CACHE_DIR: /Users/runner/work/_temp/setup-uv-cache
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:10.4303330Z ##[endgroup]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:11.1772300Z ============================= test session starts ==============================
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:11.1773000Z platform darwin -- Python 3.12.11, pytest-8.4.1, pluggy-1.6.0 -- /Users/runner/work/MFR/MFR/.venv/bin/python
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:11.1773600Z cachedir: .pytest_cache
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:11.1773860Z rootdir: /Users/runner/work/MFR/MFR
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:11.1774160Z configfile: pyproject.toml
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:11.1774410Z plugins: anyio-4.9.0, cov-6.2.1
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:18.3662230Z collecting ... collected 111 items
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:18.3662480Z 
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:18.4022690Z tests/test_additional_coverage.py::TestFileSystemOperations::test_scan_with_symlinks PASSED [  0%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:18.4356820Z tests/test_additional_coverage.py::TestFileSystemOperations::test_scan_with_gitignore PASSED [  1%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:18.4652320Z tests/test_additional_coverage.py::TestFileSystemOperations::test_process_large_file_with_encoding_error PASSED [  2%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:36.4965100Z tests/test_additional_coverage.py::TestFileSystemOperations::test_execute_transaction_os_errors PASSED [  3%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:36.6431840Z tests/test_additional_coverage.py::TestFileSystemOperations::test_file_locking_error PASSED [  4%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:36.7212200Z tests/test_additional_coverage.py::TestFileSystemOperations::test_rtf_file_processing PASSED [  5%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:36.8001610Z tests/test_additional_coverage.py::TestFileSystemOperations::test_binary_file_detection_edge_cases PASSED [  6%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:36.8877570Z tests/test_additional_coverage.py::TestFileSystemOperations::test_save_transactions_with_backup PASSED [  7%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:36.9695520Z tests/test_additional_coverage.py::TestFileSystemOperations::test_load_transactions_invalid_json PASSED [  8%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:37.0486360Z tests/test_additional_coverage.py::TestFileSystemOperations::test_folder_with_special_chars PASSED [  9%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:37.1278520Z tests/test_additional_coverage.py::TestReplaceLogicEdgeCases::test_replace_with_unicode PASSED [  9%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:37.2049710Z tests/test_additional_coverage.py::TestReplaceLogicEdgeCases::test_case_sensitive_replacements PASSED [ 10%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:37.2862560Z tests/test_additional_coverage.py::TestReplaceLogicEdgeCases::test_overlapping_replacements PASSED [ 11%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:37.9454870Z tests/test_additional_coverage.py::TestMainFlowEdgeCases::test_main_flow_with_modified_files_detection PASSED [ 12%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:37.9710970Z tests/test_additional_coverage.py::TestMainFlowEdgeCases::test_main_flow_keyboard_interrupt SKIPPED [ 13%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:38.1649380Z tests/test_additional_coverage.py::TestMainFlowEdgeCases::test_main_flow_with_all_skip_flags PASSED [ 14%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:38.2574430Z tests/test_additional_coverage.py::TestUtilityFunctions::test_get_exclude_patterns PASSED [ 15%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:38.3479150Z tests/test_additional_coverage.py::TestUtilityFunctions::test_update_transaction_status_edge_cases PASSED [ 16%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:38.4339930Z tests/test_additional_coverage.py::TestUtilityFunctions::test_open_file_with_encoding_edge_cases PASSED [ 17%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:38.5228720Z tests/test_additional_coverage.py::TestUtilityFunctions::test_group_and_process_file_transactions_edge_cases PASSED [ 18%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:38.6053910Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_help PASSED [ 18%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:38.6957180Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_self_test PASSED [ 19%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:38.7994370Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_self_test_failure PASSED [ 20%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:38.8785510Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_force_interactive_conflict PASSED [ 21%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:38.9656670Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_invalid_directory PASSED [ 22%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:39.0512910Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_not_directory PASSED [ 23%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:39.1705860Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_invalid_mapping_file PASSED [ 24%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:39.2525610Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_invalid_json PASSED [ 25%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:39.3313620Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_empty_mapping PASSED [ 26%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:39.4161690Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_invalid_ignore_file PASSED [ 27%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:39.4983860Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_timeout_validation PASSED [ 27%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:39.5772540Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_successful_run PASSED [ 28%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:39.6582930Z tests/test_coverage_improvements.py::TestMainCLI::test_main_cli_with_failures PASSED [ 29%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:39.8145330Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_skip_scan_no_file PASSED [ 30%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:40.0705650Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_resume_no_file PASSED [ 31%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:40.2844710Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_empty_transaction_file PASSED [ 32%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:40.4397460Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_with_dry_run_reset PASSED [ 33%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:40.6969670Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_interactive_mode PASSED [ 34%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:40.9655830Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_quiet_mode PASSED [ 35%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:41.2254850Z tests/test_coverage_improvements.py::TestMainFlow::test_main_flow_verbose_mode PASSED [ 36%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:41.3795110Z tests/test_coverage_improvements.py::TestExecuteTransactions::test_interactive_mode_skip PASSED [ 36%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:41.5255960Z tests/test_coverage_improvements.py::TestExecuteTransactions::test_interactive_mode_apply_all PASSED [ 37%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:41.6680080Z tests/test_coverage_improvements.py::TestExecuteTransactions::test_transaction_with_high_retry_count PASSED [ 38%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:41.7557090Z tests/test_coverage_improvements.py::TestHelperFunctions::test_get_logger_without_prefect PASSED [ 39%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:41.8562440Z tests/test_coverage_improvements.py::TestHelperFunctions::test_get_logger_with_context_error PASSED [ 40%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:41.9377100Z tests/test_coverage_improvements.py::TestHelperFunctions::test_print_mapping_table PASSED [ 41%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:42.0282630Z tests/test_coverage_improvements.py::TestHelperFunctions::test_get_operation_description PASSED [ 42%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:42.1141100Z tests/test_coverage_improvements.py::TestHelperFunctions::test_check_existing_transactions PASSED [ 43%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:42.2124160Z tests/test_coverage_improvements.py::TestHelperFunctions::test_run_subprocess_command PASSED [ 44%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:42.3020290Z tests/test_coverage_improvements.py::TestColorOutput::test_color_constants PASSED [ 45%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:42.3985220Z tests/test_coverage_improvements.py::TestReplaceLogic::test_validate_mapping_structure PASSED [ 45%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:42.4950690Z tests/test_coverage_improvements.py::TestFileOperations::test_get_file_encoding PASSED [ 46%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:42.5742510Z tests/test_coverage_improvements.py::TestFileOperations::test_is_binary_file PASSED [ 47%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:42.6635960Z tests/test_coverage_improvements.py::TestFileOperations::test_transaction_status_update PASSED [ 48%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:42.7452440Z tests/test_coverage_improvements.py::TestFileOperations::test_load_ignore_patterns PASSED [ 49%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:42.9167840Z tests/test_coverage_improvements.py::TestFileOperations::test_folder_rename_collision PASSED [ 50%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:43.2069890Z tests/test_final_coverage.py::TestPrefectIntegration::test_main_flow_with_prefect PASSED [ 51%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:43.3505600Z tests/test_final_coverage.py::TestPrefectIntegration::test_subprocess_flush_handlers PASSED [ 52%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:43.4708620Z tests/test_final_coverage.py::TestPrefectIntegration::test_subprocess_without_flush PASSED [ 53%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:43.5584300Z tests/test_final_coverage.py::TestMainCLIEdgeCases::test_main_cli_exception_handling PASSED [ 54%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:43.6369700Z tests/test_final_coverage.py::TestMainCLIEdgeCases::test_main_cli_json_key_error PASSED [ 54%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:43.7143470Z tests/test_final_coverage.py::TestMainCLIEdgeCases::test_main_cli_cyclic_mapping PASSED [ 55%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:43.7948300Z tests/test_final_coverage.py::TestMainCLIEdgeCases::test_main_cli_user_confirmation_no PASSED [ 56%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:43.8726510Z tests/test_final_coverage.py::TestMainCLIEdgeCases::test_main_cli_timeout_zero PASSED [ 57%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:43.9636090Z tests/test_final_coverage.py::TestCheckExistingTransactions::test_all_transactions_completed PASSED [ 58%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:44.0434160Z tests/test_final_coverage.py::TestCheckExistingTransactions::test_no_transactions PASSED [ 59%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:44.1894480Z tests/test_final_coverage.py::TestTransactionProcessing::test_symlink_rename_dry_run PASSED [ 60%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:45.5122760Z tests/test_final_coverage.py::TestTransactionProcessing::test_file_rename_permission_error PASSED [ 61%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:45.6931800Z tests/test_final_coverage.py::TestTransactionProcessing::test_content_change_with_no_changes PASSED [ 62%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:45.7956300Z tests/test_final_coverage.py::TestLoggerFunctions::test_log_message_functions PASSED [ 63%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:45.8862480Z tests/test_final_coverage.py::TestLoggerFunctions::test_replace_logic_functions PASSED [ 63%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:45.9684720Z tests/test_final_coverage.py::TestStringProcessing::test_canonicalize_edge_cases PASSED [ 64%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:46.0461250Z tests/test_final_coverage.py::TestStringProcessing::test_strip_functions PASSED [ 65%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:46.1241700Z tests/test_final_coverage.py::TestEncodingDetection::test_encoding_detection_edge_cases PASSED [ 66%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:46.2016820Z tests/test_final_coverage.py::TestRTFProcessing::test_rtf_to_text_edge_cases PASSED [ 67%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:46.2772340Z tests/test_final_coverage.py::TestFileOperationHelpers::test_transaction_type_enum PASSED [ 68%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:46.3755890Z tests/test_final_coverage.py::TestFileOperationHelpers::test_transaction_status_enum PASSED [ 69%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:46.4569760Z tests/test_final_coverage.py::TestScanEdgeCases::test_scan_with_permission_error PASSED [ 70%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:47.7777670Z tests/test_github_integration.py::TestGitHubIntegration::test_clone_and_setup_public_repo PASSED [ 71%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:49.3991630Z tests/test_github_integration.py::TestGitHubIntegration::test_build_mfr_in_container PASSED [ 72%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:49.8709620Z tests/test_github_integration.py::TestGitHubIntegration::test_mfr_on_cloned_repo SKIPPED [ 72%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:49.8715750Z tests/test_github_integration.py::TestGitHubIntegration::test_github_cli_operations SKIPPED [ 73%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:50.1303940Z tests/test_mass_find_replace.py::test_dry_run_behavior PASSED            [ 74%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:50.4281820Z tests/test_mass_find_replace.py::test_dry_run_virtual_paths PASSED       [ 75%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:50.6732590Z tests/test_mass_find_replace.py::test_path_resolution_after_rename PASSED [ 76%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:50.9263240Z tests/test_mass_find_replace.py::test_folder_nesting PASSED              [ 77%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:51.1898780Z tests/test_mass_find_replace.py::test_unicode_combining_chars PASSED     [ 78%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:52.6323950Z tests/test_mass_find_replace.py::test_permission_error_handling PASSED   [ 79%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:52.7247120Z tests/test_mass_find_replace.py::test_self_test_option PASSED            [ 80%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:52.9856680Z tests/test_mass_find_replace.py::test_symlink_name_processing PASSED     [ 81%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:53.2563830Z tests/test_mass_find_replace.py::test_extension_filtering PASSED         [ 81%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:53.4990150Z tests/test_mass_find_replace.py::test_rtf_processing PASSED              [ 82%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:53.7511770Z tests/test_mass_find_replace.py::test_binary_files_logging PASSED        [ 83%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:53.9984210Z tests/test_mass_find_replace.py::test_recursive_path_resolution PASSED   [ 84%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:57.7129130Z tests/test_mass_find_replace.py::test_gb18030_encoding PASSED            [ 85%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:58.2598700Z tests/test_mass_find_replace.py::test_collision_error_logging FAILED     [ 86%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:58.5085110Z tests/test_mass_find_replace.py::test_interactive_mode_collision_skip PASSED [ 87%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:58.6526250Z tests/test_mass_find_replace.py::test_malformed_json_handling PASSED     [ 88%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:58.9006040Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_trailing_spaces PASSED [ 89%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:59.1450350Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_line_endings PASSED [ 90%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:59.3872740Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_encoding_errors PASSED [ 90%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:59.6379210Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_different_encodings PASSED [ 91%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:01:59.8921770Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_null_bytes PASSED [ 92%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:00.1638180Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_preserves_corrupt_test_files PASSED [ 93%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:00.4352860Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_very_long_lines PASSED [ 94%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:00.7312750Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_unicode_edge_cases PASSED [ 95%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:01.0166450Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_empty_files_and_edge_cases PASSED [ 96%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:01.3106400Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_concurrent_patterns PASSED [ 97%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:01.5473760Z tests/test_surgical_replacements.py::TestSurgicalReplacements::test_file_permissions_preserved PASSED [ 98%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:01.7819460Z tests/test_surgical_replacements.py::TestErrorHandling::test_handles_read_only_files PASSED [ 99%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6193610Z tests/test_surgical_replacements.py::TestErrorHandling::test_handles_files_with_no_newline_at_end PASSED [100%]
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6194150Z 
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6194410Z =================================== FAILURES ===================================
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6194940Z _________________________ test_collision_error_logging _________________________
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6195130Z 
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6195840Z temp_test_dir = {'config': PosixPath('/private/var/folders/y6/nj790rtn62lfktb1sh__79hc0000gn/T/pytest-of-runner/pytest-0/test_collisio...vate/var/folders/y6/nj790rtn62lfktb1sh__79hc0000gn/T/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime')}
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6197390Z default_map_file = PosixPath('/private/var/folders/y6/nj790rtn62lfktb1sh__79hc0000gn/T/pytest-of-runner/pytest-0/test_collision_error_logging0/config/replacement_mapping.json')
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6197950Z 
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6198640Z     def test_collision_error_logging(temp_test_dir: dict[str, Path], default_map_file: Path) -> None:
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6199750Z         """Test that collision errors are properly logged"""
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6200200Z         # Use a fresh directory to avoid conflicts with fixture files
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6200540Z         test_dir = temp_test_dir["runtime"] / "collision_test"
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6200840Z         test_dir.mkdir()
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6201080Z     
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6201320Z         # Test 1: File that will rename to collide with existing file
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6201700Z         # This file will be renamed from oldname_config.py to newname_config.py
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6202100Z         source_file = test_dir / "oldname_config.py"
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6202380Z         source_file.write_text("# Config file")
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6219540Z     
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6219830Z         # Existing file that will cause collision
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6220110Z         exact_collision = test_dir / "newname_config.py"
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6220420Z         exact_collision.write_text("# Existing config")
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6220680Z     
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6221020Z         # Test 2: File with different case that will collide after rename
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6221400Z         # OldnameTheme.ts will be renamed to NewnameTheme.ts
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6221800Z         case_test_file = test_dir / "OldnameTheme.ts"
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6222100Z         case_test_file.write_text("export const theme = 'test';")
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6222320Z     
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6222550Z         # Existing file with different case that will cause collision
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6223500Z         case_collision = test_dir / "NEWNAMETHEME.ts"
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6223800Z         case_collision.write_text("export const theme = 'existing';")
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6224030Z     
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6224170Z         # Debug: List all files before running
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6224440Z         print("\n=== Files before running ===")
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6224720Z         for f in test_dir.iterdir():
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6224960Z             print(f"  {f.name}")
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6225270Z         print("=== End files list ===")
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6225480Z     
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6225640Z         # Run the replacement on the test subdirectory
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6226390Z         run_main_flow_for_test(test_dir, default_map_file, dry_run=False, extensions=[".ts", ".py"])
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6226890Z     
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6227090Z         # Check that collision log was created
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6227410Z         collision_log = test_dir / COLLISIONS_ERRORS_LOG_FILE
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6227800Z         assert collision_log.exists(), "Collision error log file was not created"
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6228050Z     
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6228170Z         # Read and verify log content
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6228510Z         log_content = collision_log.read_text(encoding="utf-8")
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6228770Z     
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6228940Z         # Print log for debugging
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6229420Z         print(f"\n=== Collision Log Content ===\n{log_content}\n=== End Log ===\n")
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6229730Z     
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6229920Z         # Verify exact match collision is logged
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6230530Z         assert "OldnameTheme.ts" in log_content, "OldnameTheme.ts collision not logged"
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6230990Z         assert "OldnameTheme.ts" in log_content, "Target collision file not mentioned"
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6231430Z         assert "exact match" in log_content, "Exact match collision type not specified"
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6231900Z     
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6232180Z         # Verify collision is logged (on case-insensitive filesystems like macOS,
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6232710Z         # OLDNAME_CONFIG.py and oldname_config.py are the same, so it's an exact match)
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6233220Z         assert "oldname_config.py" in log_content, "Case-insensitive source not logged"
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6233560Z         # The collision should be logged with the attempted target name
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6234190Z         assert "oldname_config.py" in log_content, "Collision target not mentioned"
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6234440Z     
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6234580Z         # Verify transaction details are included
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6234800Z         assert "Transaction ID:" in log_content
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6235050Z >       assert "Original Name:" in log_content
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6236450Z E       AssertionError: assert 'Original Name:' in '2025-06-29 16:01:57 - COLLISION (exact match):\n  Source: OldnameTheme.ts\n  Target: N/A\n  Collision with: NewnameTheme.ts\n  Transaction ID: a9a15a00-1522-495e-8841-b65d5599c16b\n--------------------------------------------------------------------------------\n2025-06-29 16:01:57 - COLLISION (exact match):\n  Source: oldname_config.py\n  Target: N/A\n  Collision with: newname_config.py\n  Transaction ID: 8312e487-e509-4f64-8609-05aa7fbded07\n--------------------------------------------------------------------------------\n'
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6237730Z 
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6238320Z --- Logging error ---
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6238570Z Traceback (most recent call last):
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6244810Z   File "/Users/runner/work/MFR/MFR/.venv/lib/python3.12/site-packages/prefect/logging/handlers.py", line 337, in emit
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6245240Z     self.console.print(message, soft_wrap=True)
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6245650Z   File "/Users/runner/work/MFR/MFR/.venv/lib/python3.12/site-packages/rich/console.py", line 1692, in print
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6245980Z     with self:
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6246100Z          ^^^^
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6246430Z   File "/Users/runner/work/MFR/MFR/.venv/lib/python3.12/site-packages/rich/console.py", line 866, in __exit__
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6247010Z     self._exit_buffer()
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6247410Z   File "/Users/runner/work/MFR/MFR/.venv/lib/python3.12/site-packages/rich/console.py", line 824, in _exit_buffer
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6247820Z     self._check_buffer()
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6248260Z   File "/Users/runner/work/MFR/MFR/.venv/lib/python3.12/site-packages/rich/console.py", line 2033, in _check_buffer
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6248690Z     self._write_buffer()
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6249100Z   File "/Users/runner/work/MFR/MFR/.venv/lib/python3.12/site-packages/rich/console.py", line 2102, in _write_buffer
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6249470Z     self.file.write(text)
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6249680Z ValueError: I/O operation on closed file.
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6249910Z Call stack:
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6250070Z tests/test_mass_find_replace.py:577: AssertionError
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6250400Z ----------------------------- Captured stdout call -----------------------------
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6250640Z 
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6250740Z === Files before running ===
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6250900Z   newname_config.py
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6251080Z   OldnameTheme.ts
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6251250Z   NEWNAMETHEME.ts
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6251380Z   oldname_config.py
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6251560Z === End files list ===
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6251650Z 
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6251750Z === Collision Log Content ===
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6251970Z 2025-06-29 16:01:57 - COLLISION (exact match):
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6252160Z   Source: OldnameTheme.ts
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6252330Z   Target: N/A
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6252470Z   Collision with: NewnameTheme.ts
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6252750Z   Transaction ID: a9a15a00-1522-495e-8841-b65d5599c16b
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6253050Z --------------------------------------------------------------------------------
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6253350Z 2025-06-29 16:01:57 - COLLISION (exact match):
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6253620Z   Source: oldname_config.py
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6253770Z   Target: N/A
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6253900Z   Collision with: newname_config.py
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6254110Z   Transaction ID: 8312e487-e509-4f64-8609-05aa7fbded07
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6254420Z --------------------------------------------------------------------------------
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6254590Z 
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6254640Z === End Log ===
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6254770Z 
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6254930Z ----------------------------- Captured stderr call -----------------------------
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6255490Z 16:01:57.765 | INFO    | Flow run 'vague-petrel' - Beginning flow run 'vague-petrel' for flow 'Mass Find Replace'
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6256210Z 16:01:57.766 | INFO    | Flow run 'vague-petrel' - Scanning '/private/var/folders/y6/nj790rtn62lfktb1sh__79hc0000gn/T/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test'...
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6257240Z 16:01:57.769 | INFO    | Flow run 'vague-petrel' - Scan complete. 2 transactions planned in '/private/var/folders/y6/nj790rtn62lfktb1sh__79hc0000gn/T/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/planned_transactions.json'
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6258000Z 16:01:57.769 | INFO    | Flow run 'vague-petrel' - Starting execution phase...
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6258440Z 16:01:57.844 | INFO    | Flow run 'shaggy-seriema' - Beginning subflow run 'shaggy-seriema' for flow 'execute-all-transactions'
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6259310Z 16:01:57.845 | WARNING | Flow run 'vague-petrel' - Collision logged to collisions_errors.log: exact match for /private/var/folders/y6/nj790rtn62lfktb1sh__79hc0000gn/T/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/OldnameTheme.ts
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6260480Z 16:01:57.846 | WARNING | Flow run 'vague-petrel' - Collision logged to collisions_errors.log: exact match for /private/var/folders/y6/nj790rtn62lfktb1sh__79hc0000gn/T/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/oldname_config.py
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6261460Z 16:01:57.846 | INFO    | Flow run 'vague-petrel' - Execution phase complete. Stats: {'total': 2, 'completed': 0, 'failed': 2, 'skipped': 0, 'retry_later': 0}
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6261910Z 16:01:57.861 | INFO    | Flow run 'shaggy-seriema' - Finished in state Completed()
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6262370Z 16:01:57.861 | INFO    | Flow run 'vague-petrel' - Execution phase complete. Stats: {'total': 2, 'completed': 0, 'failed': 2, 'skipped': 0, 'retry_later': 0}
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6263270Z 16:01:57.862 | INFO    | Flow run 'vague-petrel' - Review '/private/var/folders/y6/nj790rtn62lfktb1sh__79hc0000gn/T/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/planned_transactions.json' for a detailed log of changes and their statuses.
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6265530Z 16:01:57.862 | INFO    | Flow run 'vague-petrel' - [91mWarning: File/folder rename collisions were detected. See '/private/var/folders/y6/nj790rtn62lfktb1sh__79hc0000gn/T/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/collisions_errors.log' for details. These renames were skipped.[0m
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6266380Z 16:01:57.871 | INFO    | Flow run 'vague-petrel' - Finished in state Completed()
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6266680Z ------------------------------ Captured log call -------------------------------
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6267080Z INFO     prefect.flow_runs:flow_engine.py:651 Beginning flow run 'vague-petrel' for flow 'Mass Find Replace'
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6267760Z INFO     prefect.flow_runs:mass_find_replace.py:390 Scanning '/private/var/folders/y6/nj790rtn62lfktb1sh__79hc0000gn/T/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test'...
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6268790Z INFO     prefect.flow_runs:mass_find_replace.py:451 Scan complete. 2 transactions planned in '/private/var/folders/y6/nj790rtn62lfktb1sh__79hc0000gn/T/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/planned_transactions.json'
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6269540Z INFO     prefect.flow_runs:mass_find_replace.py:481 Starting execution phase...
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6269960Z INFO     prefect.flow_runs:flow_engine.py:651 Beginning subflow run 'shaggy-seriema' for flow 'execute-all-transactions'
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6270820Z WARNING  prefect.flow_runs:logging_utils.py:38 Collision logged to collisions_errors.log: exact match for /private/var/folders/y6/nj790rtn62lfktb1sh__79hc0000gn/T/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/OldnameTheme.ts
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6272150Z WARNING  prefect.flow_runs:logging_utils.py:38 Collision logged to collisions_errors.log: exact match for /private/var/folders/y6/nj790rtn62lfktb1sh__79hc0000gn/T/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/oldname_config.py
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6273260Z INFO     prefect.flow_runs:file_system_operations.py:1671 Execution phase complete. Stats: {'total': 2, 'completed': 0, 'failed': 2, 'skipped': 0, 'retry_later': 0}
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6273790Z INFO     prefect.flow_runs:flow_engine.py:724 Finished in state Completed()
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6274300Z INFO     prefect.flow_runs:mass_find_replace.py:494 Execution phase complete. Stats: {'total': 2, 'completed': 0, 'failed': 2, 'skipped': 0, 'retry_later': 0}
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6275290Z INFO     prefect.flow_runs:mass_find_replace.py:495 Review '/private/var/folders/y6/nj790rtn62lfktb1sh__79hc0000gn/T/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/planned_transactions.json' for a detailed log of changes and their statuses.
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6276800Z INFO     prefect.flow_runs:mass_find_replace.py:503 [91mWarning: File/folder rename collisions were detected. See '/private/var/folders/y6/nj790rtn62lfktb1sh__79hc0000gn/T/pytest-of-runner/pytest-0/test_collision_error_logging0/runtime/collision_test/collisions_errors.log' for details. These renames were skipped.[0m
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6277880Z INFO     prefect.flow_runs:flow_engine.py:724 Finished in state Completed()
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6278190Z ================================ tests coverage ================================
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6278720Z ______________ coverage: platform darwin, python 3.12.11-final-0 _______________
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6278960Z 
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6279050Z Name                                              Stmts   Miss  Cover
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6279320Z ---------------------------------------------------------------------
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6279640Z src/mass_find_replace/__init__.py                     6      0   100%
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6280090Z src/mass_find_replace/cli/__init__.py                 0      0   100%
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6280490Z src/mass_find_replace/core/__init__.py                4      0   100%
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6280890Z src/mass_find_replace/core/constants.py              27      0   100%
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6281260Z src/mass_find_replace/core/exceptions.py              4      0   100%
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6281590Z src/mass_find_replace/core/types.py                  16      0   100%
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6281940Z src/mass_find_replace/file_system_operations.py     755    231    69%
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6282370Z src/mass_find_replace/mass_find_replace.py          425    157    63%
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6282660Z src/mass_find_replace/replace_logic.py              191     61    68%
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6282950Z src/mass_find_replace/scanning/__init__.py            0      0   100%
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6283310Z src/mass_find_replace/test_config.py                 40     40     0%
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6283610Z src/mass_find_replace/transactions/__init__.py        0      0   100%
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6283940Z src/mass_find_replace/utils/__init__.py               5      0   100%
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6284230Z src/mass_find_replace/utils/file_encoding.py         93     23    75%
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6284540Z src/mass_find_replace/utils/file_locking.py          41     14    66%
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6284970Z src/mass_find_replace/utils/json_handlers.py         38      5    87%
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6285360Z src/mass_find_replace/utils/logging_utils.py         36      6    83%
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6285640Z ---------------------------------------------------------------------
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6285920Z TOTAL                                              1681    537    68%
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6286170Z Coverage XML written to file coverage.xml
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6286440Z =========================== short test summary info ============================
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6288010Z FAILED tests/test_mass_find_replace.py::test_collision_error_logging - AssertionError: assert 'Original Name:' in '2025-06-29 16:01:57 - COLLISION (exact match):\n  Source: OldnameTheme.ts\n  Target: N/A\n  Collision with: NewnameTheme.ts\n  Transaction ID: a9a15a00-1522-495e-8841-b65d5599c16b\n--------------------------------------------------------------------------------\n2025-06-29 16:01:57 - COLLISION (exact match):\n  Source: oldname_config.py\n  Target: N/A\n  Collision with: newname_config.py\n  Transaction ID: 8312e487-e509-4f64-8609-05aa7fbded07\n--------------------------------------------------------------------------------\n'
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6289330Z ================== 1 failed, 107 passed, 3 skipped in 51.03s ===================
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6289850Z   File "/Users/runner/work/MFR/MFR/.venv/lib/python3.12/site-packages/prefect/server/api/server.py", line 917, in stop
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6290220Z     subprocess_server_logger.info(
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6290640Z   File "/Users/runner/.local/share/uv/python/cpython-3.12.11-macos-aarch64-none/lib/python3.12/logging/__init__.py", line 1539, in info
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6291040Z     self._log(INFO, msg, args, **kwargs)
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6291480Z   File "/Users/runner/.local/share/uv/python/cpython-3.12.11-macos-aarch64-none/lib/python3.12/logging/__init__.py", line 1684, in _log
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6291880Z     self.handle(record)
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6292360Z   File "/Users/runner/.local/share/uv/python/cpython-3.12.11-macos-aarch64-none/lib/python3.12/logging/__init__.py", line 1700, in handle
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6292890Z     self.callHandlers(record)
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6293340Z   File "/Users/runner/.local/share/uv/python/cpython-3.12.11-macos-aarch64-none/lib/python3.12/logging/__init__.py", line 1762, in callHandlers
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6293750Z     hdlr.handle(record)
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6294260Z   File "/Users/runner/.local/share/uv/python/cpython-3.12.11-macos-aarch64-none/lib/python3.12/logging/__init__.py", line 1028, in handle
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6294660Z     self.emit(record)
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6295000Z   File "/Users/runner/work/MFR/MFR/.venv/lib/python3.12/site-packages/prefect/logging/handlers.py", line 343, in emit
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6295420Z     self.handleError(record)
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6295650Z Message: 'Stopping temporary server on http://127.0.0.1:8492'
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:02.6295860Z Arguments: ()
Test Python 3.12 on macos-latest	Run tests with coverage	2025-06-29T16:02:04.3634520Z ##[error]Process completed with exit code 1.
